(globalThis.webpackChunk_ampath_esm_patient_registration_app=globalThis.webpackChunk_ampath_esm_patient_registration_app||[]).push([[885],{9776:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,".-esm-patient-registration__add-patient-link__slotStyles___hAVLC{background-color:rgba(0,0,0,0)}","",{version:3,sources:["webpack://./src/add-patient-link.scss"],names:[],mappings:"AAAA,iEACE,8BAAA",sourceRoot:""}]),o.locals={slotStyles:"-esm-patient-registration__add-patient-link__slotStyles___hAVLC"};const s=o},439:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__address-search__label01___oURHe{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__address-search__suggestions___eCtFr{border-top-width:0;list-style:none;margin-top:0;max-height:20rem;overflow-y:auto;padding-left:0;width:100%;position:absolute;left:0;background-color:#fff;margin-bottom:20px;z-index:99;border:1px solid #e0e0e0}.-esm-patient-registration__address-search__suggestions___eCtFr li{padding:1rem;line-height:1.29;color:#525252;border-bottom:1px solid #8d8d8d}.-esm-patient-registration__address-search__suggestions___eCtFr li:hover{background-color:#e5e5e5;color:#161616;cursor:pointer}.-esm-patient-registration__address-search__suggestions___eCtFr li:not(:last-of-type){border-bottom:1px solid #999}.-esm-patient-registration__address-search__autocomplete___ziYIM{position:relative}.-esm-patient-registration__address-search__autocompleteSearch____mzpI{width:100%}.-esm-patient-registration__address-search__suggestions___eCtFr a{color:inherit;text-decoration:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/field/address/address-search.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,4DC81BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD11BJ,gEACE,kBAAA,CACA,eAAA,CACA,YAAA,CACA,gBAAA,CACA,eAAA,CACA,cAAA,CACA,UAAA,CACA,iBAAA,CACA,MAAA,CACA,qBAAA,CACA,kBAAA,CACA,UAAA,CACA,wBAAA,CAGF,mEACE,YEMW,CFLX,gBAAA,CACA,aAAA,CACA,+BAAA,CAGF,yEACE,wBAAA,CACA,aAAA,CACA,cAAA,CAGF,sFACE,4BAAA,CAGF,iEACE,iBAAA,CAGF,uEACE,UAAA,CAGF,kEACE,aAAA,CACA,oBAAA",sourceRoot:""}]),o.locals={label01:"-esm-patient-registration__address-search__label01___oURHe",suggestions:"-esm-patient-registration__address-search__suggestions___eCtFr",autocomplete:"-esm-patient-registration__address-search__autocomplete___ziYIM",autocompleteSearch:"-esm-patient-registration__address-search__autocompleteSearch____mzpI"};const s=o},2459:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__field__productiveHeading02___B7YQg{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-registration__field__productiveHeading02Light___Kitgy{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem;color:#525252}.-esm-patient-registration__field__label01___XhEuH{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__field__grid___kG494{display:grid;grid-template-columns:1fr 1fr;column-gap:1rem}.-esm-patient-registration__field__halfWidthInDesktopView___bN6Sw{width:calc(50% - 1rem)}.-esm-patient-registration__field__patientPhoto___qrH4P{display:flex;justify-content:center}.-esm-patient-registration__field__nameField___tUkky{grid-row:1;grid-column:1}.-esm-patient-registration__field__nameField___tUkky>.cds--content-switcher{display:grid;grid-template-columns:1fr 1fr;width:max-content;justify-content:flex-start}.-esm-patient-registration__field__contentSwitcher___ReJS6{margin-bottom:1rem}.-esm-patient-registration__field__dobField___r5Uum>.cds--content-switcher{display:grid;grid-template-columns:1fr 1fr;width:max-content;justify-content:flex-start}.-esm-patient-registration__field__photoExtension___eUcYn{margin-bottom:1rem;grid-row:1;grid-column:2;justify-self:center}.-esm-patient-registration__field__sexField___WBNSZ,.-esm-patient-registration__field__dobField___r5Uum{margin-bottom:1rem}.-esm-patient-registration__field__dobContentSwitcherLabel___f3ZOM{margin-bottom:.5rem}.-esm-patient-registration__field__identifierLabelText___CUAVo{display:flex;align-items:center}.-esm-patient-registration__field__setIDNumberButton___MPk53{margin-bottom:1rem}.-esm-patient-registration__field__setIDNumberButton___MPk53>svg{margin-left:.5rem}.-esm-patient-registration__field__customField___FqVZp{margin-bottom:1rem}.-esm-patient-registration__field__attributeField___f6fQL{margin-bottom:1rem}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__grid___kG494{grid-template-columns:1fr;grid-template-rows:auto auto}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__nameField___tUkky{grid-row:2;grid-column:1}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__photoExtension___eUcYn{grid-column:1;grid-row:1;justify-self:start}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__radioButton___yvufj label{height:3rem !important}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__halfWidthInDesktopView___bN6Sw{width:100%}.-esm-patient-registration__field__radioFieldError___Y8du_{color:#da1e28;display:block;font-weight:400;max-height:12.5rem;overflow:visible;font-size:.75rem;letter-spacing:.32px;line-height:1.34;margin:.25rem 0 0}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/field/field.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,+DC81BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD51BF,kBAAA,CAGF,oECy1BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CDv1BF,kBAAA,CACA,aAAA,CAGF,mDCm1BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD/0BJ,gDACE,YAAA,CACA,6BAAA,CACA,eESW,CFNb,kEACE,sBAAA,CAGF,wDACE,YAAA,CACA,sBAAA,CAGF,qDACE,UAAA,CACA,aAAA,CAGF,4EACE,YAAA,CACA,6BAAA,CACA,iBAAA,CACA,0BAAA,CAGF,2DACE,kBAAA,CAGF,2EACE,YAAA,CACA,6BAAA,CACA,iBAAA,CACA,0BAAA,CAGF,0DACE,kBAAA,CACA,UAAA,CACA,aAAA,CACA,mBAAA,CAGF,wGAEE,kBEnCW,CFsCb,mEACE,mBEjDW,CFoDb,+DACE,YAAA,CACA,kBAAA,CAGF,6DACE,kBEhDW,CFmDb,iEACE,iBE9DW,CFiEb,uDACE,kBExDW,CF2Db,0DACE,kBE5DW,CFgEX,4EACE,yBAAA,CACA,4BAAA,CAEF,iFACE,UAAA,CACA,aAAA,CAEF,sFACE,aAAA,CACA,UAAA,CACA,kBAAA,CAEF,yFACE,sBAAA,CAEF,8FACE,UAAA,CAIJ,2DACE,aAAA,CACA,aAAA,CACA,eAAA,CACA,kBAAA,CACA,gBAAA,CACA,gBAAA,CACA,oBAAA,CACA,gBAAA,CACA,iBAAA",sourceRoot:""}]),o.locals={productiveHeading02:"-esm-patient-registration__field__productiveHeading02___B7YQg",productiveHeading02Light:"-esm-patient-registration__field__productiveHeading02Light___Kitgy",label01:"-esm-patient-registration__field__label01___XhEuH",grid:"-esm-patient-registration__field__grid___kG494",halfWidthInDesktopView:"-esm-patient-registration__field__halfWidthInDesktopView___bN6Sw",patientPhoto:"-esm-patient-registration__field__patientPhoto___qrH4P",nameField:"-esm-patient-registration__field__nameField___tUkky",contentSwitcher:"-esm-patient-registration__field__contentSwitcher___ReJS6",dobField:"-esm-patient-registration__field__dobField___r5Uum",photoExtension:"-esm-patient-registration__field__photoExtension___eUcYn",sexField:"-esm-patient-registration__field__sexField___WBNSZ",dobContentSwitcherLabel:"-esm-patient-registration__field__dobContentSwitcherLabel___f3ZOM",identifierLabelText:"-esm-patient-registration__field__identifierLabelText___CUAVo",setIDNumberButton:"-esm-patient-registration__field__setIDNumberButton___MPk53",customField:"-esm-patient-registration__field__customField___FqVZp",attributeField:"-esm-patient-registration__field__attributeField___f6fQL",radioButton:"-esm-patient-registration__field__radioButton___yvufj",radioFieldError:"-esm-patient-registration__field__radioFieldError___Y8du_"};const s=o},1733:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__identifier-selection__title___id4Ma{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__identifier-selection__submit___EFvNk{width:250px}.-esm-patient-registration__identifier-selection__submit___EFvNk:hover{cursor:pointer}.-esm-patient-registration__identifier-selection__cancelButton___o8f0G{width:11.688rem}.-esm-patient-registration__identifier-selection__submitButton___WRJVa{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__identifier-selection__infoGrid___lYE6f{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__identifier-selection__label01___P7jXk{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__identifier-selection__productiveHeading02___rOsRi{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__identifier-selection__space05___Y0nw4{margin:1rem 0 1rem 0}.-esm-patient-registration__identifier-selection__formContainer___isKuG{display:flex;width:100%}.-esm-patient-registration__identifier-selection__stickyColumn___SCnIQ{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__identifier-selection__touchTarget___OhMJU a:active{color:#161616}.-esm-patient-registration__identifier-selection__linkName___eS6IH{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__identifier-selection__linkName___eS6IH:active{text-decoration:none;color:#161616}.-esm-patient-registration__identifier-selection__linkName___eS6IH:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__identifier-selection__main___eLHMZ{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__identifier-selection__infoGrid___lYE6f{max-width:unset}.-esm-patient-registration__identifier-selection__spinner___VF1W2.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__identifier-selection__linkName___eS6IH>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__identifier-selection__infoGrid___lYE6f{padding-left:unset;padding-right:2rem}.-esm-patient-registration__identifier-selection__patientVerification___aYTEY>*{margin-top:.5rem}.-esm-patient-registration__identifier-selection__patientVerification___aYTEY>:last-child{margin-top:.5rem}.-esm-patient-registration__identifier-selection__button___l3yVl{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-registration__identifier-selection__tablet___rSdxC{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-registration__identifier-selection__desktop___WlFF7{padding:0rem}.-esm-patient-registration__identifier-selection__radioGroup___WAlzM{background-color:#f4f4f4;padding:1rem}.-esm-patient-registration__identifier-selection__radioButton___vGul_{margin:0 !important}.-esm-patient-registration__identifier-selection__radioButton___vGul_ label{height:2rem}.omrs-breakpoint-lt-desktop .-esm-patient-registration__identifier-selection__radioButton___vGul_ label{height:3rem !important}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-registration/field/id/identifier-selection.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,gEACE,kCAAA,CAGF,iEACE,WAAA,CAGF,uEACE,cAAA,CAGF,uEACE,eAAA,CAGF,uEACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,mEACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,kEEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,8EEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,kEACE,oBAAA,CAGF,wEACE,YAAA,CACA,UAAA,CAGF,uEACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,+EACE,aDtDe,CCyDjB,mEACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,0EACE,oBAAA,CACA,aDjEa,CCoEf,yEACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,+DACE,qBAAA,CAIA,+FACE,eAAA,CAKF,sFACE,eAAA,CAOA,qFACE,sBAAA,CAIJ,iFACE,kBAAA,CACA,kBCtES,CD0EX,gFACE,gBC/FS,CDiGX,0FACE,gBClGS,CElBb,iEACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,iEACE,mBAAA,CACA,qBJZM,CIeR,kEACE,YAAA,CAGF,qEACE,wBJrBM,CIsBN,YFSW,CENb,sEACE,mBAAA,CACA,4EACE,WFaS,CERX,wGACE,sBAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__identifier-selection__title___id4Ma",submit:"-esm-patient-registration__identifier-selection__submit___EFvNk",cancelButton:"-esm-patient-registration__identifier-selection__cancelButton___o8f0G",submitButton:"-esm-patient-registration__identifier-selection__submitButton___WRJVa",infoGrid:"-esm-patient-registration__identifier-selection__infoGrid___lYE6f",label01:"-esm-patient-registration__identifier-selection__label01___P7jXk",productiveHeading02:"-esm-patient-registration__identifier-selection__productiveHeading02___rOsRi",space05:"-esm-patient-registration__identifier-selection__space05___Y0nw4",formContainer:"-esm-patient-registration__identifier-selection__formContainer___isKuG",stickyColumn:"-esm-patient-registration__identifier-selection__stickyColumn___SCnIQ",touchTarget:"-esm-patient-registration__identifier-selection__touchTarget___OhMJU",linkName:"-esm-patient-registration__identifier-selection__linkName___eS6IH",main:"-esm-patient-registration__identifier-selection__main___eLHMZ",spinner:"-esm-patient-registration__identifier-selection__spinner___VF1W2",patientVerification:"-esm-patient-registration__identifier-selection__patientVerification___aYTEY",button:"-esm-patient-registration__identifier-selection__button___l3yVl",tablet:"-esm-patient-registration__identifier-selection__tablet___rSdxC",desktop:"-esm-patient-registration__identifier-selection__desktop___WlFF7",radioGroup:"-esm-patient-registration__identifier-selection__radioGroup___WAlzM",radioButton:"-esm-patient-registration__identifier-selection__radioButton___vGul_"};const s=o},6467:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__autosuggest__label01___ZMRhI{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__autosuggest__suggestions___jNk6d{position:relative;border-top-width:0;list-style:none;margin-top:0;max-height:143px;overflow-y:auto;padding-left:0;width:100%;position:absolute;left:0;background-color:#fff;margin-bottom:20px;z-index:99}.-esm-patient-registration__autosuggest__suggestions___jNk6d li{padding:1rem;line-height:1.29;color:#525252;border-bottom:1px solid #8d8d8d}.-esm-patient-registration__autosuggest__suggestions___jNk6d li:hover{background-color:#e5e5e5;color:#161616;cursor:pointer}.-esm-patient-registration__autosuggest__suggestions___jNk6d li:not(:last-of-type){border-bottom:1px solid #999}.-esm-patient-registration__autosuggest__autocomplete___CqHbh{position:relative}.-esm-patient-registration__autosuggest__autocompleteSearch___tDrC1{width:100%}.-esm-patient-registration__autosuggest__suggestions___jNk6d a{color:inherit;text-decoration:none}.-esm-patient-registration__autosuggest__invalid___ucMxb input{outline:2px solid var(--cds-support-error, #da1e28);outline-offset:-2px}.-esm-patient-registration__autosuggest__invalidMsg___fYXV4{color:var(--cds-text-error, #da1e28)}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/input/custom-input/autosuggest/autosuggest.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,yDC81BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD11BJ,6DACE,iBAAA,CACA,kBAAA,CACA,eAAA,CACA,YAAA,CACA,gBAAA,CACA,eAAA,CACA,cAAA,CACA,UAAA,CACA,iBAAA,CACA,MAAA,CACA,qBAAA,CACA,kBAAA,CACA,UAAA,CAGF,gEACE,YEMW,CFLX,gBAAA,CACA,aAAA,CACA,+BAAA,CAGF,sEACE,wBAAA,CACA,aAAA,CACA,cAAA,CAGF,mFACE,4BAAA,CAGF,8DACE,iBAAA,CAGF,oEACE,UAAA,CAGF,+DACE,aAAA,CACA,oBAAA,CAGF,+DACE,mDAAA,CACA,mBAAA,CAGF,4DACE,oCAAA",sourceRoot:""}]),o.locals={label01:"-esm-patient-registration__autosuggest__label01___ZMRhI",suggestions:"-esm-patient-registration__autosuggest__suggestions___jNk6d",autocomplete:"-esm-patient-registration__autosuggest__autocomplete___CqHbh",autocompleteSearch:"-esm-patient-registration__autosuggest__autocompleteSearch___tDrC1",invalid:"-esm-patient-registration__autosuggest__invalid___ucMxb",invalidMsg:"-esm-patient-registration__autosuggest__invalidMsg___fYXV4"};const s=o},5415:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__input__title___ymmMp{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__input__submit___drScu{width:250px}.-esm-patient-registration__input__submit___drScu:hover{cursor:pointer}.-esm-patient-registration__input__cancelButton___MGlnb{width:11.688rem}.-esm-patient-registration__input__submitButton___KxHlt{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__input__infoGrid___KptwF{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__input__label01___udxOY{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__input__productiveHeading02___BviaC{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__input__space05___MSQTm{margin:1rem 0 1rem 0}.-esm-patient-registration__input__formContainer___Djtuh{display:flex;width:100%}.-esm-patient-registration__input__stickyColumn___Cqo0q{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__input__touchTarget___aKvZw a:active{color:#161616}.-esm-patient-registration__input__linkName___ePbIQ{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__input__linkName___ePbIQ:active{text-decoration:none;color:#161616}.-esm-patient-registration__input__linkName___ePbIQ:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__input__main___xrszP{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__input__infoGrid___KptwF{max-width:unset}.-esm-patient-registration__input__spinner___jE55H.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__input__linkName___ePbIQ>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__input__infoGrid___KptwF{padding-left:unset;padding-right:2rem}.-esm-patient-registration__input__patientVerification___FAxkP>*{margin-top:.5rem}.-esm-patient-registration__input__patientVerification___FAxkP>:last-child{margin-top:.5rem}.-esm-patient-registration__input__fieldRow___vLP6O{display:flex;flex-direction:row;justify-content:flex-start;flex-wrap:wrap}.-esm-patient-registration__input__subFieldRow___sPk3F{margin-bottom:5px}.-esm-patient-registration__input__label___orNk0{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-patient-registration__input__textID___Ubh9Y,.-esm-patient-registration__input__comboInput___qUhJm{margin-bottom:1rem}.-esm-patient-registration__input__requiredField___k3345{color:#da1e28}.-esm-patient-registration__input__input___Dwmo5{margin-right:5px}.-esm-patient-registration__input__checkboxField___OEvPy{display:flex;flex-direction:row;justify-content:flex-start;width:400px;margin-left:10px}.-esm-patient-registration__input__textInput___hQZXv{width:250px !important;height:40px !important}.-esm-patient-registration__input__numberInput___SAa3l{width:200px !important;height:40px !important}.-esm-patient-registration__input__checkboxInput___oso9t{height:1.5rem !important;width:1.5rem !important;margin-top:8px}.-esm-patient-registration__input__selectInput___lV71G{width:150px !important;height:40px !important}.-esm-patient-registration__input__dateInput___KyGaB{width:200px !important;height:40px !important;font-size:large !important}.-esm-patient-registration__input__telInput___DwqWm{width:250px !important;height:40px !important}.-esm-patient-registration__input__errorInput___Xyttp{border:2px solid #da1e28 !important;padding-left:.875rem !important}.-esm-patient-registration__input__errorMessage___LkLY3{color:#da1e28;align-self:center}.-esm-patient-registration__input__dummyData___lR2jV{cursor:pointer;margin-left:5px}.-esm-patient-registration__input__IDInput___NYnrx{display:grid;grid-template-columns:1fr auto;align-items:end}.-esm-patient-registration__input__trashCan___T3t2n{color:#da1e28}.omrs-breakpoint-lt-desktop .-esm-patient-registration__input__IDInput___NYnrx{max-width:unset;width:100%}.-esm-patient-registration__input__dangerLabel01___C3QkA{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#da1e28}.-esm-patient-registration__input__comboInputEntries___Xg2qG{position:relative}.-esm-patient-registration__input__comboInputItemOption___Uv8Ip{margin:0;padding-left:1rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-registration/input/input.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,iDACE,kCAAA,CAGF,kDACE,WAAA,CAGF,wDACE,cAAA,CAGF,wDACE,eAAA,CAGF,wDACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,oDACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,mDEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,+DEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,mDACE,oBAAA,CAGF,yDACE,YAAA,CACA,UAAA,CAGF,wDACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,gEACE,aDtDe,CCyDjB,oDACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,2DACE,oBAAA,CACA,aDjEa,CCoEf,0DACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,gDACE,qBAAA,CAIA,gFACE,eAAA,CAKF,uEACE,eAAA,CAOA,sEACE,sBAAA,CAIJ,kEACE,kBAAA,CACA,kBCtES,CD0EX,iEACE,gBC/FS,CDiGX,2EACE,gBClGS,CEjBb,oDACE,YAAA,CACA,kBAAA,CACA,0BAAA,CACA,cAAA,CAGF,uDACE,iBAAA,CAGF,iDDm1BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CCj1BF,aJZQ,CIeV,wGAEE,kBFSW,CENb,yDACE,aJNO,CIST,iDACE,gBAAA,CAGF,yDACE,YAAA,CACA,kBAAA,CACA,0BAAA,CACA,WAAA,CACA,gBAAA,CAGF,qDACE,sBAAA,CACA,sBAAA,CAGF,uDACE,sBAAA,CACA,sBAAA,CAGF,yDACE,wBAAA,CACA,uBAAA,CACA,cAAA,CAGF,uDACE,sBAAA,CACA,sBAAA,CAGF,qDACE,sBAAA,CACA,sBAAA,CACA,0BAAA,CAGF,oDACE,sBAAA,CACA,sBAAA,CAGF,sDACE,mCAAA,CACA,+BAAA,CAGF,wDACE,aJ3DO,CI4DP,iBAAA,CAGF,qDACE,cAAA,CACA,eAAA,CAGF,mDACE,YAAA,CACA,8BAAA,CACA,eAAA,CAGF,oDACE,aJ3EO,CI+EP,+EACE,eAAA,CACA,UAAA,CAIJ,yDDyvBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CCvvBF,aJvFO,CI0FT,6DACE,iBAAA,CAGF,gEACE,QAAA,CACA,iBAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__input__title___ymmMp",submit:"-esm-patient-registration__input__submit___drScu",cancelButton:"-esm-patient-registration__input__cancelButton___MGlnb",submitButton:"-esm-patient-registration__input__submitButton___KxHlt",infoGrid:"-esm-patient-registration__input__infoGrid___KptwF",label01:"-esm-patient-registration__input__label01___udxOY",productiveHeading02:"-esm-patient-registration__input__productiveHeading02___BviaC",space05:"-esm-patient-registration__input__space05___MSQTm",formContainer:"-esm-patient-registration__input__formContainer___Djtuh",stickyColumn:"-esm-patient-registration__input__stickyColumn___Cqo0q",touchTarget:"-esm-patient-registration__input__touchTarget___aKvZw",linkName:"-esm-patient-registration__input__linkName___ePbIQ",main:"-esm-patient-registration__input__main___xrszP",spinner:"-esm-patient-registration__input__spinner___jE55H",patientVerification:"-esm-patient-registration__input__patientVerification___FAxkP",fieldRow:"-esm-patient-registration__input__fieldRow___vLP6O",subFieldRow:"-esm-patient-registration__input__subFieldRow___sPk3F",label:"-esm-patient-registration__input__label___orNk0",textID:"-esm-patient-registration__input__textID___Ubh9Y",comboInput:"-esm-patient-registration__input__comboInput___qUhJm",requiredField:"-esm-patient-registration__input__requiredField___k3345",input:"-esm-patient-registration__input__input___Dwmo5",checkboxField:"-esm-patient-registration__input__checkboxField___OEvPy",textInput:"-esm-patient-registration__input__textInput___hQZXv",numberInput:"-esm-patient-registration__input__numberInput___SAa3l",checkboxInput:"-esm-patient-registration__input__checkboxInput___oso9t",selectInput:"-esm-patient-registration__input__selectInput___lV71G",dateInput:"-esm-patient-registration__input__dateInput___KyGaB",telInput:"-esm-patient-registration__input__telInput___DwqWm",errorInput:"-esm-patient-registration__input__errorInput___Xyttp",errorMessage:"-esm-patient-registration__input__errorMessage___LkLY3",dummyData:"-esm-patient-registration__input__dummyData___lR2jV",IDInput:"-esm-patient-registration__input__IDInput___NYnrx",trashCan:"-esm-patient-registration__input__trashCan___T3t2n",dangerLabel01:"-esm-patient-registration__input__dangerLabel01___C3QkA",comboInputEntries:"-esm-patient-registration__input__comboInputEntries___Xg2qG",comboInputItemOption:"-esm-patient-registration__input__comboInputItemOption___Uv8Ip"};const s=o},6253:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__patient-registration__title___deVt0{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__patient-registration__submit___WAvMe{width:250px}.-esm-patient-registration__patient-registration__submit___WAvMe:hover{cursor:pointer}.-esm-patient-registration__patient-registration__cancelButton___d1bxd{width:11.688rem}.-esm-patient-registration__patient-registration__submitButton___FPRJM{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__patient-registration__infoGrid___GbkQI{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__patient-registration__label01___wbzrK{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__patient-registration__productiveHeading02___VG2Xd{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__patient-registration__space05___kujPI{margin:1rem 0 1rem 0}.-esm-patient-registration__patient-registration__formContainer___R8NXh{display:flex;width:100%}.-esm-patient-registration__patient-registration__stickyColumn___YyTJX{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__patient-registration__touchTarget___J2DcK a:active{color:#161616}.-esm-patient-registration__patient-registration__linkName___R5ijn{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__patient-registration__linkName___R5ijn:active{text-decoration:none;color:#161616}.-esm-patient-registration__patient-registration__linkName___R5ijn:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__patient-registration__main___pAibL{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__patient-registration__infoGrid___GbkQI{max-width:unset}.-esm-patient-registration__patient-registration__spinner___wUnQX.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__patient-registration__linkName___R5ijn>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__patient-registration__infoGrid___GbkQI{padding-left:unset;padding-right:2rem}.-esm-patient-registration__patient-registration__patientVerification___j96Tb>*{margin-top:.5rem}.-esm-patient-registration__patient-registration__patientVerification___j96Tb>:last-child{margin-top:.5rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,gEACE,kCAAA,CAGF,iEACE,WAAA,CAGF,uEACE,cAAA,CAGF,uEACE,eAAA,CAGF,uEACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,mEACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,kEEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,8EEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,kEACE,oBAAA,CAGF,wEACE,YAAA,CACA,UAAA,CAGF,uEACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,+EACE,aDtDe,CCyDjB,mEACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,0EACE,oBAAA,CACA,aDjEa,CCoEf,yEACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,+DACE,qBAAA,CAIA,+FACE,eAAA,CAKF,sFACE,eAAA,CAOA,qFACE,sBAAA,CAIJ,iFACE,kBAAA,CACA,kBCtES,CD0EX,gFACE,gBC/FS,CDiGX,0FACE,gBClGS",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__patient-registration__title___deVt0",submit:"-esm-patient-registration__patient-registration__submit___WAvMe",cancelButton:"-esm-patient-registration__patient-registration__cancelButton___d1bxd",submitButton:"-esm-patient-registration__patient-registration__submitButton___FPRJM",infoGrid:"-esm-patient-registration__patient-registration__infoGrid___GbkQI",label01:"-esm-patient-registration__patient-registration__label01___wbzrK",productiveHeading02:"-esm-patient-registration__patient-registration__productiveHeading02___VG2Xd",space05:"-esm-patient-registration__patient-registration__space05___kujPI",formContainer:"-esm-patient-registration__patient-registration__formContainer___R8NXh",stickyColumn:"-esm-patient-registration__patient-registration__stickyColumn___YyTJX",touchTarget:"-esm-patient-registration__patient-registration__touchTarget___J2DcK",linkName:"-esm-patient-registration__patient-registration__linkName___R5ijn",main:"-esm-patient-registration__patient-registration__main___pAibL",spinner:"-esm-patient-registration__patient-registration__spinner___wUnQX",patientVerification:"-esm-patient-registration__patient-registration__patientVerification___j96Tb"};const s=o},3355:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__relationships__title___VwsTO{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__relationships__submit___XKnWx{width:250px}.-esm-patient-registration__relationships__submit___XKnWx:hover{cursor:pointer}.-esm-patient-registration__relationships__cancelButton___BQuUm{width:11.688rem}.-esm-patient-registration__relationships__submitButton___Tg9V7{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__relationships__infoGrid___SAUPw{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__relationships__label01___pH0BA{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__relationships__productiveHeading02___BjxK9{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__relationships__space05___cMUhT{margin:1rem 0 1rem 0}.-esm-patient-registration__relationships__formContainer___fk4C8{display:flex;width:100%}.-esm-patient-registration__relationships__stickyColumn___hS_Eh{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__relationships__touchTarget___PbOAv a:active{color:#161616}.-esm-patient-registration__relationships__linkName___QK15g{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__relationships__linkName___QK15g:active{text-decoration:none;color:#161616}.-esm-patient-registration__relationships__linkName___QK15g:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__relationships__main___kTcJj{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__relationships__infoGrid___SAUPw{max-width:unset}.-esm-patient-registration__relationships__spinner____dwdz.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__relationships__linkName___QK15g>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__relationships__infoGrid___SAUPw{padding-left:unset;padding-right:2rem}.-esm-patient-registration__relationships__patientVerification___eqLwd>*{margin-top:.5rem}.-esm-patient-registration__relationships__patientVerification___eqLwd>:last-child{margin-top:.5rem}.-esm-patient-registration__relationships__labelText___uj7UC{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__relationships__bodyShort02___lfKTT{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-registration__relationships__searchBox___sm1h1{margin-bottom:1rem}.-esm-patient-registration__relationships__relationshipHeader____GJQK{display:flex;align-items:center}.-esm-patient-registration__relationships__productiveHeading___kksGB{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252}.-esm-patient-registration__relationships__trashCan___RUDnn{color:#da1e28 !important}.omrs-breakpoint-lt-desktop .-esm-patient-registration__relationships__relationshipHeader____GJQK{justify-content:space-between}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-registration/section/patient-relationships/relationships.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,yDACE,kCAAA,CAGF,0DACE,WAAA,CAGF,gEACE,cAAA,CAGF,gEACE,eAAA,CAGF,gEACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,4DACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,2DEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,uEEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,2DACE,oBAAA,CAGF,iEACE,YAAA,CACA,UAAA,CAGF,gEACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,wEACE,aDtDe,CCyDjB,4DACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,mEACE,oBAAA,CACA,aDjEa,CCoEf,kEACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,wDACE,qBAAA,CAIA,wFACE,eAAA,CAKF,+EACE,eAAA,CAOA,8EACE,sBAAA,CAIJ,0EACE,kBAAA,CACA,kBCtES,CD0EX,yEACE,gBC/FS,CDiGX,mFACE,gBClGS,CEjBb,6DD81BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CC11BJ,+DD01BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CCt1BJ,6DACE,kBFkBW,CEfb,sEACE,YAAA,CACA,kBAAA,CAGF,qED60BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CC30BF,aJlBQ,CIqBV,4DACE,wBAAA,CAIA,kGACE,6BAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__relationships__title___VwsTO",submit:"-esm-patient-registration__relationships__submit___XKnWx",cancelButton:"-esm-patient-registration__relationships__cancelButton___BQuUm",submitButton:"-esm-patient-registration__relationships__submitButton___Tg9V7",infoGrid:"-esm-patient-registration__relationships__infoGrid___SAUPw",label01:"-esm-patient-registration__relationships__label01___pH0BA",productiveHeading02:"-esm-patient-registration__relationships__productiveHeading02___BjxK9",space05:"-esm-patient-registration__relationships__space05___cMUhT",formContainer:"-esm-patient-registration__relationships__formContainer___fk4C8",stickyColumn:"-esm-patient-registration__relationships__stickyColumn___hS_Eh",touchTarget:"-esm-patient-registration__relationships__touchTarget___PbOAv",linkName:"-esm-patient-registration__relationships__linkName___QK15g",main:"-esm-patient-registration__relationships__main___kTcJj",spinner:"-esm-patient-registration__relationships__spinner____dwdz",patientVerification:"-esm-patient-registration__relationships__patientVerification___eqLwd",labelText:"-esm-patient-registration__relationships__labelText___uj7UC",bodyShort02:"-esm-patient-registration__relationships__bodyShort02___lfKTT",searchBox:"-esm-patient-registration__relationships__searchBox___sm1h1",relationshipHeader:"-esm-patient-registration__relationships__relationshipHeader____GJQK",productiveHeading:"-esm-patient-registration__relationships__productiveHeading___kksGB",trashCan:"-esm-patient-registration__relationships__trashCan___RUDnn"};const s=o},8471:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__section__title___t5kfW{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__section__submit___deOxc{width:250px}.-esm-patient-registration__section__submit___deOxc:hover{cursor:pointer}.-esm-patient-registration__section__cancelButton___WL_ze{width:11.688rem}.-esm-patient-registration__section__submitButton___LIciE{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__section__infoGrid___pWQZT{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__section__label01___zyKRq{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__section__productiveHeading02____1hxG{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__section__space05___lREpo{margin:1rem 0 1rem 0}.-esm-patient-registration__section__formContainer___SRjjl{display:flex;width:100%}.-esm-patient-registration__section__stickyColumn___a3FUs{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__section__touchTarget___Eb0y6 a:active{color:#161616}.-esm-patient-registration__section__linkName___u7Bhd{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__section__linkName___u7Bhd:active{text-decoration:none;color:#161616}.-esm-patient-registration__section__linkName___u7Bhd:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__section__main___yCaDW{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__section__infoGrid___pWQZT{max-width:unset}.-esm-patient-registration__section__spinner___rIo46.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__section__linkName___u7Bhd>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__section__infoGrid___pWQZT{padding-left:unset;padding-right:2rem}.-esm-patient-registration__section__patientVerification___v47PI>*{margin-top:.5rem}.-esm-patient-registration__section__patientVerification___v47PI>:last-child{margin-top:.5rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,mDACE,kCAAA,CAGF,oDACE,WAAA,CAGF,0DACE,cAAA,CAGF,0DACE,eAAA,CAGF,0DACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,sDACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,qDEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,iEEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,qDACE,oBAAA,CAGF,2DACE,YAAA,CACA,UAAA,CAGF,0DACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,kEACE,aDtDe,CCyDjB,sDACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,6DACE,oBAAA,CACA,aDjEa,CCoEf,4DACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,kDACE,qBAAA,CAIA,kFACE,eAAA,CAKF,yEACE,eAAA,CAOA,wEACE,sBAAA,CAIJ,oEACE,kBAAA,CACA,kBCtES,CD0EX,mEACE,gBC/FS,CDiGX,6EACE,gBClGS",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__section__title___t5kfW",submit:"-esm-patient-registration__section__submit___deOxc",cancelButton:"-esm-patient-registration__section__cancelButton___WL_ze",submitButton:"-esm-patient-registration__section__submitButton___LIciE",infoGrid:"-esm-patient-registration__section__infoGrid___pWQZT",label01:"-esm-patient-registration__section__label01___zyKRq",productiveHeading02:"-esm-patient-registration__section__productiveHeading02____1hxG",space05:"-esm-patient-registration__section__space05___lREpo",formContainer:"-esm-patient-registration__section__formContainer___SRjjl",stickyColumn:"-esm-patient-registration__section__stickyColumn___a3FUs",touchTarget:"-esm-patient-registration__section__touchTarget___Eb0y6",linkName:"-esm-patient-registration__section__linkName___u7Bhd",main:"-esm-patient-registration__section__main___yCaDW",spinner:"-esm-patient-registration__section__spinner___rIo46",patientVerification:"-esm-patient-registration__section__patientVerification___v47PI"};const s=o},8661:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__overlay__title____YPY_{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__overlay__submit___zc6Wb{width:250px}.-esm-patient-registration__overlay__submit___zc6Wb:hover{cursor:pointer}.-esm-patient-registration__overlay__cancelButton___h860H{width:11.688rem}.-esm-patient-registration__overlay__submitButton___xvgAH{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__overlay__infoGrid___LpFZH{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__overlay__label01___YrbZe{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__overlay__productiveHeading02___sQ1wt{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__overlay__space05___qxgdq{margin:1rem 0 1rem 0}.-esm-patient-registration__overlay__formContainer___mqmN0{display:flex;width:100%}.-esm-patient-registration__overlay__stickyColumn___BR29p{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__overlay__touchTarget___tGlGl a:active{color:#161616}.-esm-patient-registration__overlay__linkName___NTGfr{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__overlay__linkName___NTGfr:active{text-decoration:none;color:#161616}.-esm-patient-registration__overlay__linkName___NTGfr:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__overlay__main___MOTWA{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__overlay__infoGrid___LpFZH{max-width:unset}.-esm-patient-registration__overlay__spinner___knUsd.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__overlay__linkName___NTGfr>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__overlay__infoGrid___LpFZH{padding-left:unset;padding-right:2rem}.-esm-patient-registration__overlay__patientVerification___MiZSD>*{margin-top:.5rem}.-esm-patient-registration__overlay__patientVerification___MiZSD>:last-child{margin-top:.5rem}.-esm-patient-registration__overlay__desktopOverlay___d3zF6{position:fixed;top:3rem;right:0;height:calc(100vh - 3rem);min-width:27rem;background-color:#fff;border-left:1px solid #a8a8a8;overflow:hidden;display:grid;grid-template-rows:auto 1fr auto;z-index:999}.-esm-patient-registration__overlay__tabletOverlay___JSgzT{position:fixed;top:0;bottom:0;left:0;right:0;z-index:9999;background-color:#fff;overflow:hidden;padding-top:3rem;display:grid;grid-template-rows:1fr auto}.-esm-patient-registration__overlay__tabletOverlayHeader___HKDSr button{background-color:#005d5d !important}.-esm-patient-registration__overlay__tabletOverlayHeader___HKDSr .-esm-patient-registration__overlay__headerContent___E79in{color:#fff}.-esm-patient-registration__overlay__desktopHeader___D56AB{display:flex;justify-content:space-between;align-items:center;background-color:#e0e0e0;border-bottom:1px solid #a8a8a8}.-esm-patient-registration__overlay__headerContent___E79in{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);padding:0 1rem;color:#161616}.-esm-patient-registration__overlay__closeButton___jwVf9{background-color:#fff}.-esm-patient-registration__overlay__overlayContent___FVBjG{padding:1rem;overflow-y:auto}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-registration/ui-components/overlay/overlay.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,mDACE,kCAAA,CAGF,oDACE,WAAA,CAGF,0DACE,cAAA,CAGF,0DACE,eAAA,CAGF,0DACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,sDACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,qDEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,iEEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,qDACE,oBAAA,CAGF,2DACE,YAAA,CACA,UAAA,CAGF,0DACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,kEACE,aDtDe,CCyDjB,sDACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,6DACE,oBAAA,CACA,aDjEa,CCoEf,4DACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,kDACE,qBAAA,CAIA,kFACE,eAAA,CAKF,yEACE,eAAA,CAOA,wEACE,sBAAA,CAIJ,oEACE,kBAAA,CACA,kBCtES,CD0EX,mEACE,gBC/FS,CDiGX,6EACE,gBClGS,CEjBb,4DACE,cAAA,CACA,QF6CW,CE5CX,OAAA,CACA,yBAAA,CACA,eAAA,CACA,qBJTM,CIUN,6BAAA,CACA,eAAA,CACA,YAAA,CACA,gCAAA,CACA,WAAA,CAGF,2DACE,cAAA,CACA,KAAA,CACA,QAAA,CACA,MAAA,CACA,OAAA,CACA,YAAA,CACA,qBJxBM,CIyBN,eAAA,CACA,gBFwBW,CEvBX,YAAA,CACA,2BAAA,CAIA,wEACE,mCAAA,CAEF,4HACE,UJpCI,CIwCR,2DACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,wBJ3CM,CI4CN,+BAAA,CAGF,2DDizBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CC/yBF,cAAA,CACA,aJhDM,CImDR,yDACE,qBJvDM,CI0DR,4DACE,YF7BW,CE8BX,eAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__overlay__title____YPY_",submit:"-esm-patient-registration__overlay__submit___zc6Wb",cancelButton:"-esm-patient-registration__overlay__cancelButton___h860H",submitButton:"-esm-patient-registration__overlay__submitButton___xvgAH",infoGrid:"-esm-patient-registration__overlay__infoGrid___LpFZH",label01:"-esm-patient-registration__overlay__label01___YrbZe",productiveHeading02:"-esm-patient-registration__overlay__productiveHeading02___sQ1wt",space05:"-esm-patient-registration__overlay__space05___qxgdq",formContainer:"-esm-patient-registration__overlay__formContainer___mqmN0",stickyColumn:"-esm-patient-registration__overlay__stickyColumn___BR29p",touchTarget:"-esm-patient-registration__overlay__touchTarget___tGlGl",linkName:"-esm-patient-registration__overlay__linkName___NTGfr",main:"-esm-patient-registration__overlay__main___MOTWA",spinner:"-esm-patient-registration__overlay__spinner___knUsd",patientVerification:"-esm-patient-registration__overlay__patientVerification___MiZSD",desktopOverlay:"-esm-patient-registration__overlay__desktopOverlay___d3zF6",tabletOverlay:"-esm-patient-registration__overlay__tabletOverlay___JSgzT",tabletOverlayHeader:"-esm-patient-registration__overlay__tabletOverlayHeader___HKDSr",headerContent:"-esm-patient-registration__overlay__headerContent___E79in",desktopHeader:"-esm-patient-registration__overlay__desktopHeader___D56AB",closeButton:"-esm-patient-registration__overlay__closeButton___jwVf9",overlayContent:"-esm-patient-registration__overlay__overlayContent___FVBjG"};const s=o},5495:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__client-registry__title___VqNL5{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__client-registry__submit____RrnD{width:250px}.-esm-patient-registration__client-registry__submit____RrnD:hover{cursor:pointer}.-esm-patient-registration__client-registry__cancelButton___yjrB2{width:11.688rem}.-esm-patient-registration__client-registry__submitButton___iEfTi{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__client-registry__infoGrid___yQkaw{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__client-registry__label01___L0OHh{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__client-registry__productiveHeading02___EbtGh{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__client-registry__space05___kT2q1{margin:1rem 0 1rem 0}.-esm-patient-registration__client-registry__formContainer___lnKz4{display:flex;width:100%}.-esm-patient-registration__client-registry__stickyColumn___eEJ2E{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__client-registry__touchTarget___qNeuY a:active{color:#161616}.-esm-patient-registration__client-registry__linkName___fDO6m{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__client-registry__linkName___fDO6m:active{text-decoration:none;color:#161616}.-esm-patient-registration__client-registry__linkName___fDO6m:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__client-registry__main___ppf1L{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__client-registry__infoGrid___yQkaw{max-width:unset}.-esm-patient-registration__client-registry__spinner___xpIXD.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__client-registry__linkName___fDO6m>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__client-registry__infoGrid___yQkaw{padding-left:unset;padding-right:2rem}.-esm-patient-registration__client-registry__patientVerification___z66BK>*{margin-top:.5rem}.-esm-patient-registration__client-registry__patientVerification___z66BK>:last-child{margin-top:.5rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,2DACE,kCAAA,CAGF,4DACE,WAAA,CAGF,kEACE,cAAA,CAGF,kEACE,eAAA,CAGF,kEACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,8DACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,6DEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,yEEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,6DACE,oBAAA,CAGF,mEACE,YAAA,CACA,UAAA,CAGF,kEACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,0EACE,aDtDe,CCyDjB,8DACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,qEACE,oBAAA,CACA,aDjEa,CCoEf,oEACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,0DACE,qBAAA,CAIA,0FACE,eAAA,CAKF,iFACE,eAAA,CAOA,gFACE,sBAAA,CAIJ,4EACE,kBAAA,CACA,kBCtES,CD0EX,2EACE,gBC/FS,CDiGX,qFACE,gBClGS",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__client-registry__title___VqNL5",submit:"-esm-patient-registration__client-registry__submit____RrnD",cancelButton:"-esm-patient-registration__client-registry__cancelButton___yjrB2",submitButton:"-esm-patient-registration__client-registry__submitButton___iEfTi",infoGrid:"-esm-patient-registration__client-registry__infoGrid___yQkaw",label01:"-esm-patient-registration__client-registry__label01___L0OHh",productiveHeading02:"-esm-patient-registration__client-registry__productiveHeading02___EbtGh",space05:"-esm-patient-registration__client-registry__space05___kT2q1",formContainer:"-esm-patient-registration__client-registry__formContainer___lnKz4",stickyColumn:"-esm-patient-registration__client-registry__stickyColumn___eEJ2E",touchTarget:"-esm-patient-registration__client-registry__touchTarget___qNeuY",linkName:"-esm-patient-registration__client-registry__linkName___fDO6m",main:"-esm-patient-registration__client-registry__main___ppf1L",spinner:"-esm-patient-registration__client-registry__spinner___xpIXD",patientVerification:"-esm-patient-registration__client-registry__patientVerification___z66BK"};const s=o},1809:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,".-esm-patient-registration__verification-modal__cardContainer___zvMDi{display:grid;grid-template-columns:.5fr 1fr;column-gap:.25rem;margin:.5rem 0}.-esm-patient-registration__verification-modal__label___gaDSx{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#121619;font-weight:bold}.-esm-patient-registration__verification-modal__value___f6gNh{font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px);color:#343a3f}","",{version:3,sources:["webpack://./src/patient-verification/verification-modal.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAGA,sEACE,YAAA,CACA,8BAAA,CACA,iBAAA,CACA,cAAA,CAGF,8DCw1BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDt1BF,aEmBc,CFlBd,gBAAA,CAGF,8DCk1BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDh1BF,aEWa",sourceRoot:""}]),o.locals={cardContainer:"-esm-patient-registration__verification-modal__cardContainer___zvMDi",label:"-esm-patient-registration__verification-modal__label___gaDSx",value:"-esm-patient-registration__verification-modal__value___f6gNh"};const s=o},2138:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2001),i=n.n(r),a=n(935),o=n.n(a)()(i());o.push([e.id,".-esm-patient-registration__root__root___ZqEMk{background-color:#fff}.-esm-patient-registration__root__grid___Bq7KW{grid-template-columns:repeat(1, minmax(0, 1fr))}","",{version:3,sources:["webpack://./src/root.scss"],names:[],mappings:"AAAA,+CACE,qBAAA,CAGF,+CACE,+CAAA",sourceRoot:""}]),o.locals={root:"-esm-patient-registration__root__root___ZqEMk",grid:"-esm-patient-registration__root__grid___Bq7KW"};const s=o},885:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addPatientLink:()=>Mi,cancelPatientEditModal:()=>Li,clientRegistryModal:()=>qi,deleteIdentifierConfirmationModal:()=>Wi,editPatient:()=>Ui,editPatientDetailsButton:()=>Vi,importTranslation:()=>Pi,patientPhoto:()=>Ri,root:()=>Gi,startupApp:()=>Ni});var r=n(1083);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=[{id:"demographics",name:"Basic Info",fields:["name","gender","dob","id"]},{id:"contact",name:"Contact Details",fields:["address","phone"]},{id:"death",name:"Death Info",fields:[]},{id:"relationships",name:"Relationships",fields:[]}],s=["name","gender","dob","id","address","phone"],l={sections:{_type:r.Type.Array,_default:["demographics","contact","relationships"],_description:"An array of strings which are the keys from 'sectionDefinitions' or any of the following built-in sections: '".concat(o.map((function(e){return e.id})).join("', '"),"'."),_elements:{_type:r.Type.String}},sectionDefinitions:{_type:r.Type.Array,_elements:{id:{_type:r.Type.String,_description:"How this section will be referred to in the `sections` configuration. To override a built-in section, use that section's id. The built in section ids are '".concat(o.map((function(e){return e.id})).join("', '"),"'.")},name:{_type:r.Type.String,_description:"The title to display at the top of the section."},fields:{_type:r.Type.Array,_default:[],_description:"The parts to include in the section. Can be any of the following built-in fields: ".concat(s.join(", "),". Can also be an id from an object in the `fieldDefinitions` array, which you can use to define custom fields."),_elements:{_type:r.Type.String}}},_default:[]},fieldDefinitions:{_type:r.Type.Array,_elements:{id:{_type:r.Type.String,_description:"How this field will be referred to in the `fields` element of the `sectionDefinitions` configuration."},type:{_type:r.Type.String,_description:"How this field's data will be storeda person attribute or an obs.",_validators:[r.validators.oneOf(["person attribute","obs"])]},uuid:{_type:r.Type.UUID,_description:"Person attribute type UUID that this field's data should be saved to."},showHeading:{_type:r.Type.Boolean,_description:"Whether to show a heading above the person attribute field.",_default:!1},label:{_type:r.Type.String,_default:null,_description:"The label of the input. By default, uses the metadata `display` attribute."},placeholder:{_type:r.Type.String,_default:"",_description:"Placeholder that will appear in the input."},validation:{required:{_type:r.Type.Boolean,_default:!1},matches:{_type:r.Type.String,_default:null,_description:"Optional RegEx for testing the validity of the input."}},answerConceptSetUuid:{_type:r.Type.ConceptUuid,_default:null,_description:"For coded questions only. A concept which has the possible responses either as answers or as set members."},customConceptAnswers:{_type:r.Type.Array,_elements:{uuid:{_type:r.Type.UUID,_description:"Answer concept UUID"},label:{_type:r.Type.String,_default:null,_description:"The custom label for the answer concept."}},_default:[],_description:"For coded questions only (obs or person attrbute). A list of custom concept answers. Overrides answers that come from the obs concept or from `answerSetConceptUuid`."}},_default:[],_description:"Definitions for custom fields that can be used in sectionDefinitions. Can also be used to override built-in fields."},fieldConfigurations:{name:{displayMiddleName:{_type:r.Type.Boolean,_default:!0},allowUnidentifiedPatients:{_type:r.Type.Boolean,_default:!0,_description:"Whether to allow registering unidentified patients."},defaultUnknownGivenName:{_type:r.Type.String,_default:"UNKNOWN",_description:"The given/first name to record for unidentified patients."},defaultUnknownFamilyName:{_type:r.Type.String,_default:"UNKNOWN",_description:"The family/last name to record for unidentified patients."},displayCapturePhoto:{_type:r.Type.Boolean,_default:!0,_description:"Whether to display capture patient photo slot on name field"},displayReverseFieldOrder:{_type:r.Type.Boolean,_default:!1,_description:"Whether to display the name fields in the order 'Family name' -> 'Middle name' -> 'First name'"}},gender:{_type:r.Type.Array,_elements:{value:{_type:r.Type.String,_description:"Value that will be sent to the server. Limited to FHIR-supported values for Administrative Gender",_validators:[r.validators.oneOf(["male","female","other","unknown"])]},label:{_type:r.Type.String,_default:null,_description:'The label displayed for the sex option, if it should be different from the value (the value will be translated; the English "translation" is upper-case).'}},_default:[{value:"male"},{value:"female"},{value:"other"},{value:"unknown"}],_description:"The options for sex selection during patient registration. This is Administrative Gender as it is called by FHIR (Possible options are limited to those defined in FHIR Administrative Gender, see https://hl7.org/fhir/R4/valueset-administrative-gender.html)."},address:{useAddressHierarchy:{enabled:{_type:r.Type.Boolean,_description:"Whether to use the Address hierarchy in the registration form or not",_default:!0},useQuickSearch:{_type:r.Type.Boolean,_description:"Whether to use the quick searching through the address saved in the database pre-fill the form.",_default:!0},searchAddressByLevel:{_type:r.Type.Boolean,_description:"Whether to fill the addresses by levels, i.e. County => subCounty, the current field is dependent on it's previous field.",_default:!1},useAddressHierarchyLabel:{_type:r.Type.Object,_description:"Whether to use custom labels for address hierarchy",_default:{}}}},dateOfBirth:{allowEstimatedDateOfBirth:{_type:r.Type.Boolean,_description:"Whether to allow estimated date of birth for a patient during registration",_default:!0},useEstimatedDateOfBirth:{enabled:{_type:r.Type.Boolean,_description:"Whether to use a fixed day and month for estimated date of birth",_default:!1},dayOfMonth:{_type:r.Type.Number,_description:"The custom day of the month use on the estimated date of birth",_default:0},month:{_type:r.Type.Number,_description:"The custom month to use on the estimated date of birth i.e 0 = Jan & 11 = Dec",_default:0}}},phone:{personAttributeUuid:{_type:r.Type.UUID,_default:"14d4f066-15f5-102d-96e4-000c29c2a5d7",_description:"The UUID of the phone number person attribute type"}}},links:{submitButton:{_type:r.Type.String,_default:"${openmrsSpaBase}/patient/${patientUuid}/chart",_validators:[r.validators.isUrlWithTemplateParameters(["patientUuid"])]}},concepts:{patientPhotoUuid:{_type:r.Type.ConceptUuid,_default:"736e8771-e501-4615-bfa7-570c03f4bef5"}},defaultPatientIdentifierTypes:{_type:r.Type.Array,_elements:{_type:r.Type.PatientIdentifierTypeUuid},_default:[]},registrationObs:{encounterTypeUuid:{_type:r.Type.UUID,_default:null,_description:"Obs created during registration will be associated with an encounter of this type. This must be set in order to use fields of type `obs`."},encounterProviderRoleUuid:{_type:r.Type.UUID,_default:"a0b03050-c99b-11e0-9572-0800200c9a66",_description:"The provider role to use for the registration encounter. Default is 'Unkown'."},registrationFormUuid:{_type:r.Type.UUID,_default:null,_description:"The form UUID to associate with the registration encounter. By default no form will be associated."}},_validators:[(0,r.validator)((function(e){return!e.fieldDefinitions.some((function(e){return"obs"==e.type}))||null!=e.registrationObs.encounterTypeUuid}),"If fieldDefinitions contains any fields of type 'obs', `registrationObs.encounterTypeUuid` must be specified."),(0,r.validator)((function(e){return e.sections.every((function(t){return a(o).concat(a(e.sectionDefinitions)).map((function(e){return e.id})).includes(t)}))}),(function(e){var t=a(o).concat(a(e.sectionDefinitions)).map((function(e){return e.id})),n=e.sections.find((function(e){return!t.includes(e)}));return"'".concat(n,"' is not a valid section ID. Valid section IDs include the built-in sections ").concat(c(o))+(e.sectionDefinitions.length?"; and the defined sections ".concat(c(e.sectionDefinitions),"."):".")})),(0,r.validator)((function(e){return e.sectionDefinitions.every((function(t){return t.fields.every((function(t){return a(s).concat(a(e.fieldDefinitions.map((function(e){return e.id})))).includes(t)}))}))}),(function(e){var t=a(s).concat(a(e.fieldDefinitions.map((function(e){return e.id})))),n=e.sectionDefinitions.find((function(e){return e.fields.some((function(e){return!t.includes(e)}))})),r=n.fields.find((function(e){return!t.includes(e)}));return"The section definition '".concat(n.id,"' contains an invalid field '").concat(r,"'. 'fields' can only contain the built-in fields '").concat(s.join("', '"),"'")+(e.fieldDefinitions.length?"; or the defined fields ".concat(c(e.fieldDefinitions),"."):".")}))]};function c(e){return"'".concat(e.map((function(e){return e.id})).join("', '"),"'")}var u,d,_,p="custom:(display,uuid,personA:(age,display,birthdate,uuid),personB:(age,display,birthdate,uuid),relationshipType:(uuid,display,description,aIsToB,bIsToA))",m="@ampath/esm-patient-registration-app",A="patient-registration",f=(u={},_="network-first",(d=r.omrsOfflineCachingStrategyHttpHeaderName)in u?Object.defineProperty(u,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):u[d]=_,u),g=n(1343),h=n.n(g),b=n(9857),y=n(2308),v=n(7127);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){if(Array.isArray(e))return e}function w(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){w(a,r,i,o,s,"next",e)}function s(e){w(a,r,i,o,s,"throw",e)}o(void 0)}))}}function k(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){return E(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||T(e,t)||O()}function B(e){return E(e)||k(e)||T(e)||O()}function T(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function j(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var F=h().createContext(null);function I(){return P.apply(this,arguments)}function P(){return(P=D((function(){return j(this,(function(e){switch(e.label){case 0:return[4,K("/ws/rest/v1/session")];case 1:return[2,e.sent().data]}}))}))).apply(this,arguments)}function x(){return N.apply(this,arguments)}function N(){return(N=D((function(){return j(this,(function(e){switch(e.label){case 0:return[4,K("/ws/rest/v1/addresstemplate")];case 1:return[2,e.sent().data]}}))}))).apply(this,arguments)}function G(){return U.apply(this,arguments)}function U(){return(U=D((function(){return j(this,(function(e){switch(e.label){case 0:return[4,K("/ws/rest/v1/relationshiptype?v=default")];case 1:return[2,e.sent().data]}}))}))).apply(this,arguments)}function M(){return L.apply(this,arguments)}function L(){return L=D((function(){var e,t;return j(this,(function(n){switch(n.label){case 0:return[4,(0,r.getConfig)(m)];case 1:return(e=n.sent()).fieldDefinitions?(t=e.fieldDefinitions.map((function(e){return function(e){return R.apply(this,arguments)}(e)})),[4,Promise.all(t)]):[2];case 2:return[2,n.sent().reduce((function(e,t){return t&&e.push(t),e}),[])]}}))})),L.apply(this,arguments)}function R(){return(R=D((function(e){var t;return j(this,(function(n){switch(n.label){case 0:return t="","person attribute"===e.type&&(t="/ws/rest/v1/personattributetype/".concat(e.uuid)),e.answerConceptSetUuid?[4,K("/ws/rest/v1/concept/".concat(e.answerConceptSetUuid))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[4,K(t)];case 3:return[2,n.sent().data]}}))}))).apply(this,arguments)}function V(){return W.apply(this,arguments)}function W(){return W=D((function(){var e,t,n,r,i,a;return j(this,(function(o){switch(o.label){case 0:return[4,q()];case 1:return e=o.sent(),t=e.filter(Boolean),[4,Promise.all([Y()].concat((s=t.map((function(e){return function(e){return H.apply(this,arguments)}(e.uuid)})),function(e){if(Array.isArray(e))return C(e)}(s)||k(s)||T(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))];case 2:for(n=B.apply(void 0,[o.sent()]),r=n[0],i=n.slice(1),a=0;a<(null==t?void 0:t.length);a++)t[a].identifierSources=i[a].data.results.map((function(e){var t=(0,b.A)(r.data.results,{source:{uuid:e.uuid}});return e.autoGenerationOption=t,e}));return[2,t]}var s}))})),W.apply(this,arguments)}function q(){return z.apply(this,arguments)}function z(){return z=D((function(){var e,t,n,r,i,a,o,s,l,c;return j(this,(function(u){switch(u.label){case 0:return[4,Promise.all([K("/ws/rest/v1/patientidentifiertype?v=custom:(display,uuid,name,format,required,uniquenessBehavior)"),K("/ws/rest/v1/metadatamapping/termmapping?v=full&code=emr.primaryIdentifierType")])];case 1:return e=S.apply(void 0,[u.sent(),2]),t=e[0],n=e[1],t.ok?(s=null==t||null===(r=t.data)||void 0===r?void 0:r.results,l=null==n||null===(o=n.data)||void 0===o||null===(a=o.results)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.metadataUuid,c=(null==n?void 0:n.ok)?[Q(null==s?void 0:s.find((function(e){return e.uuid===l})),!0)]:[],s.forEach((function(e){e.uuid!==l&&c.push(Q(e,!1))})),[2,c]):[2,[]]}}))})),z.apply(this,arguments)}function H(){return(H=D((function(e){return j(this,(function(t){switch(t.label){case 0:return[4,K("/ws/rest/v1/idgen/identifiersource?v=default&identifierType=".concat(e))];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function Y(e){return X.apply(this,arguments)}function X(){return(X=D((function(e){return j(this,(function(e){switch(e.label){case 0:return[4,K("/ws/rest/v1/idgen/autogenerationoption?v=full")];case 1:return[2,e.sent()]}}))}))).apply(this,arguments)}function K(e){return J.apply(this,arguments)}function J(){return(J=D((function(e){var t;return j(this,(function(n){switch(n.label){case 0:return t=new AbortController,[4,(0,r.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:(0,v.A)(e)})];case 1:return n.sent(),[4,(0,r.openmrsFetch)(e,{headers:f,signal:null==t?void 0:t.signal})];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function Q(e,t){return{name:e.display,fieldName:(0,y.A)(e.name),required:e.required,uuid:e.uuid,format:e.format,isPrimary:t,uniquenessBehavior:e.uniquenessBehavior}}var $=n(1123);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ee(a,r,i,o,s,"next",e)}function s(e){ee(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function ie(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function ae(e,t){var n=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/patient/".concat(t||""),{headers:{"Content-Type":"application/json"},method:"POST",body:e,signal:n.signal})}function oe(e,t){var n=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/person/".concat(t,"/name/").concat(e),{method:"DELETE",signal:n.signal})}function se(e,t,n,r,i){return le.apply(this,arguments)}function le(){return(le=te((function(e,t,n,i,a){var o,s;return ie(this,(function(l){return o=new AbortController,(s=new FormData).append("patient",e),s.append("file",function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);var a=new Blob([r],{type:n});return new File([a],"patient-photo.png")}(t)),s.append("json",JSON.stringify({person:e,concept:a,groupMembers:[],obsDatetime:i})),[2,(0,r.openmrsFetch)(n,{method:"POST",signal:o.signal,body:s})]}))}))).apply(this,arguments)}function ce(e){var t,n,i,a=(0,r.useConfig)().concepts.patientPhotoUuid,o="/ws/rest/v1/obs?patient=".concat(e,"&concept=").concat(a,"&v=full"),s=(0,$.Ay)(e?o:null,r.openmrsFetch),l=s.data,c=s.error,u=s.isLoading,d=null==l||null===(t=l.data)||void 0===t?void 0:t.results[0];return{data:d?{dateTime:null==d?void 0:d.obsDatetime,imageSrc:null==d||null===(i=d.value)||void 0===i||null===(n=i.links)||void 0===n?void 0:n.uri}:null,isError:c,isLoading:u}}function ue(e,t){return de.apply(this,arguments)}function de(){return(de=te((function(e,t){var n,i,a,o;return ie(this,(function(s){switch(s.label){case 0:return[4,Promise.all([(0,r.openmrsFetch)("/ws/rest/v1/patient?q=".concat(e),{signal:t.signal}),(0,r.openmrsFetch)("/ws/rest/v1/person?q=".concat(e),{signal:t.signal})])];case 1:return n=ne.apply(void 0,[s.sent(),2]),i=n[0],a=n[1],l=i.data.results,o=function(e){if(Array.isArray(e))return Z(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||re(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a.data.results.forEach((function(e){o.some((function(t){return t.uuid===e.uuid}))||o.push(e)})),[2,o]}var l}))}))).apply(this,arguments)}function _e(e,t){return pe.apply(this,arguments)}function pe(){return(pe=te((function(e,t){var n;return ie(this,(function(i){return n=new AbortController,[2,(0,r.openmrsFetch)("/ws/rest/v1/patient/".concat(e,"/identifier/"),{method:"POST",headers:{"Content-Type":"application/json"},signal:n.signal,body:t})]}))}))).apply(this,arguments)}function me(e,t,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=te((function(e,t,n){var i;return ie(this,(function(a){return i=new AbortController,[2,(0,r.openmrsFetch)("/ws/rest/v1/patient/".concat(e,"/identifier/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},signal:i.signal,body:{identifier:n}})]}))}))).apply(this,arguments)}function fe(e,t){return ge.apply(this,arguments)}function ge(){return(ge=te((function(e,t){var n;return ie(this,(function(i){return n=new AbortController,[2,(0,r.openmrsFetch)("/ws/rest/v1/patient/".concat(e,"/identifier/").concat(t,"?purge"),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:n.signal})]}))}))).apply(this,arguments)}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){be(a,r,i,o,s,"next",e)}function s(e){be(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ee(e,t,n[t])}))}return e}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var Oe,Se=function(){function e(){ve(this,e)}var t,n;return t=e,n=[{key:"saveRelationships",value:function(e,t){return ye((function(){return ke(this,(function(n){return[2,Promise.all(e.filter((function(e){return e.relationshipType})).filter((function(e){return!!e.action})).map((function(e){var n,i,a=e.relatedPersonUuid,o=e.relationshipType,s=e.uuid,l=e.action,c=De(o.split("/"),2),u=c[0],d=c[1],_=t.data.uuid,p="aIsToB"===d,m={personA:p?a:_,personB:p?_:a,relationshipType:u};switch(l){case"ADD":return n=m,i=new AbortController,(0,r.openmrsFetch)("/ws/rest/v1/relationship",{headers:{"Content-Type":"application/json"},method:"POST",body:n,signal:i.signal});case"UPDATE":return function(e,t){var n=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/relationship/".concat(e),{headers:{"Content-Type":"application/json"},method:"POST",body:{relationshipType:t.relationshipType},signal:n.signal})}(s,m);case"DELETE":return function(e){var t=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/relationship/".concat(e),{headers:{"Content-Type":"application/json"},method:"DELETE",signal:t.signal})}(s)}})))]}))}))()}},{key:"saveObservations",value:function(e,t,n,i,a){return ye((function(){return ke(this,(function(o){if(e&&Object.keys(e).length>0){if(a.registrationObs.encounterTypeUuid)return[2,(s={encounterDatetime:new Date,patient:t.data.uuid,encounterType:a.registrationObs.encounterTypeUuid,location:n,encounterProviders:[{provider:i.currentProvider.uuid,encounterRole:a.registrationObs.encounterProviderRoleUuid}],form:a.registrationObs.registrationFormUuid,obs:Object.entries(e).filter((function(e){return""!==De(e,2)[1]})).map((function(e){var t=De(e,2);return{concept:t[0],value:t[1]}}))},l=new AbortController,(0,r.openmrsFetch)("/ws/rest/v1/encounter",{headers:{"Content-Type":"application/json"},method:"POST",body:s,signal:l.signal}))];console.error("The registration form has been configured to have obs fields, but no registration encounter type has been configured. Obs field values will not be saved.")}var s,l;return[2]}))}))()}},{key:"savePatientIdentifiers",value:function(e,t,n,i,a){return ye((function(){var o;return ke(this,(function(s){var l;return o=Object.values(n).filter((function(e){var t=e.identifierValue,n=e.autoGeneration,r=e.selectedSource;return t||n&&r})).map((l=ye((function(n){var i,o,s,l,c,u,d,_,p,m;return ke(this,(function(A){switch(A.label){case 0:return i=n.identifierTypeUuid,o=n.identifierValue,s=n.identifierUuid,l=n.selectedSource,c=n.preferred,u=n.autoGeneration,d=n.initialValue,u?[3,1]:(p=o,[3,4]);case 1:return[4,(f=l.uuid,g=new AbortController,(0,r.openmrsFetch)("/ws/rest/v1/idgen/identifiersource/".concat(f,"/identifier"),{headers:{"Content-Type":"application/json"},method:"POST",body:{},signal:g.signal}))];case 2:return[4,A.sent().data.identifier];case 3:p=A.sent(),A.label=4;case 4:return m={uuid:s,identifier:_=p,identifierType:i,location:a,preferred:c},e?[3,8]:d?[3,6]:[4,_e(t,m)];case 5:return A.sent(),[3,8];case 6:return d===_?[3,8]:[4,me(t,s,m.identifier)];case 7:A.sent(),A.label=8;case 8:return[2,m]}var f,g}))})),function(e){return l.apply(this,arguments)})),t&&Object.keys(i).filter((function(e){return!n[e]})).forEach(function(){var e=ye((function(e){return ke(this,(function(n){switch(n.label){case 0:return[4,fe(t,i[e].identifierUuid)];case 1:return n.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),[2,Promise.all(o)]}))}))()}},{key:"getDeletedNames",value:function(e,t){return(null==t?void 0:t.additionalNameUuid)?[{nameUuid:t.additionalNameUuid,personUuid:e}]:[]}},{key:"getPatientToCreate",value:function(t,n,r,i,a){var o,s,l;return s=n.birthdate,o=(null!=(l=Date)&&"undefined"!=typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](s):s instanceof l)?[n.birthdate.getFullYear(),n.birthdate.getMonth()+1,n.birthdate.getDate()].join("-"):n.birthdate,{uuid:n.patientUuid,person:we({uuid:n.patientUuid,names:e.getNames(n,r),gender:n.gender.charAt(0).toUpperCase(),birthdate:o,birthdateEstimated:n.birthdateEstimated,attributes:e.getPatientAttributes(t,n,r),addresses:[n.address]},e.getPatientDeathInfo(n)),identifiers:a}}},{key:"getNames",value:function(e,t){var n=[{uuid:t.preferredNameUuid,preferred:!0,givenName:e.givenName,middleName:e.middleName,familyName:e.familyName}];return e.addNameInLocalLanguage&&n.push({uuid:t.additionalNameUuid,preferred:!1,givenName:e.additionalGivenName,middleName:e.additionalMiddleName,familyName:e.additionalFamilyName}),n}},{key:"getPatientAttributes",value:function(e,t,n){var i,a=[];return t.attributes&&(Object.entries(t.attributes).filter((function(e){return!!De(e,2)[1]})).forEach((function(e){var t=De(e,2),n=t[0],r=t[1];a.push({attributeType:n,value:r})})),!e&&t.patientUuid&&Object.entries(t.attributes).filter((function(e){return!De(e,2)[1]})).forEach((i=ye((function(e){var i,a,o;return ke(this,(function(s){switch(s.label){case 0:return i=De(e,1),a=i[0],o=n["attribute.".concat(a)],[4,(0,r.openmrsFetch)("/ws/rest/v1/person/".concat(t.patientUuid,"/attribute/").concat(o),{method:"DELETE"}).catch((function(e){console.error(e)}))];case 1:return s.sent(),[2]}}))})),function(e){return i.apply(this,arguments)}))),a}},{key:"getPatientDeathInfo",value:function(e){var t=e.isDead,n=e.deathDate,r=e.deathCause;return{dead:t,deathDate:t?n:void 0,causeOfDeath:t?r:void 0}}},{key:"mapPatientToFhirPatient",value:function(e){var t,n,r,i,a,o;return{id:e.uuid,gender:null===(t=e.person)||void 0===t?void 0:t.gender,birthDate:null===(n=e.person)||void 0===n?void 0:n.birthdate,deceasedBoolean:e.person.dead,deceasedDateTime:e.person.deathDate,name:null===(i=e.person)||void 0===i||null===(r=i.names)||void 0===r?void 0:r.map((function(e){return{given:[e.givenName,e.middleName].filter(Boolean),family:e.familyName}})),address:null===(a=e.person)||void 0===a?void 0:a.addresses.map((function(e){return{city:e.cityVillage,country:e.country,postalCode:e.postalCode,state:e.stateProvince,use:"home"}})),telecom:null===(o=e.person.attributes)||void 0===o?void 0:o.filter((function(e){return"Telephone Number"===e.attributeType}))}}}],null&&Ce(t.prototype,null),n&&Ce(t,n),e}();Ee(Se,"savePatientFormOffline",(Oe=ye((function(e,t,n,i,a,o,s,l,c){var u;return ke(this,(function(d){switch(d.label){case 0:return u={fhirPatient:Se.mapPatientToFhirPatient(Se.getPatientToCreate(e,t,n,i,[])),_patientRegistrationData:{isNewPatient:e,formValues:t,patientUuidMap:n,initialAddressFieldValues:i,capturePhotoProps:a,currentLocation:o,initialIdentifierValues:s,currentUser:l,config:c,savePatientTransactionManager:new Be}},[4,(0,r.queueSynchronizationItem)(A,u,{id:t.patientUuid,displayName:"Patient registration",patientUuid:u.fhirPatient.id,dependencies:[]})];case 1:return d.sent(),[2,null]}}))})),function(e,t,n,r,i,a,o,s,l){return Oe.apply(this,arguments)})),Ee(Se,"savePatientFormOnline",function(){var e=ye((function(e,t,n,r,i,a,o,s,l,c,u){var d,_,p;return ke(this,(function(u){switch(u.label){case 0:return[4,Se.savePatientIdentifiers(e,t.patientUuid,t.identifiers,o,a)];case 1:return d=u.sent(),_=Se.getPatientToCreate(e,t,n,r,d),Se.getDeletedNames(t.patientUuid,n).forEach(function(){var e=ye((function(e){return ke(this,(function(t){switch(t.label){case 0:return[4,oe(e.nameUuid,e.personUuid)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),[4,ae(_,e&&!c.patientSaved?void 0:t.patientUuid)];case 2:return(p=u.sent()).ok?(c.patientSaved=!0,[4,Se.saveRelationships(t.relationships,p)]):[3,6];case 3:return u.sent(),[4,Se.saveObservations(t.obs,p,a,s,l)];case 4:return u.sent(),l.concepts.patientPhotoUuid&&(null==i?void 0:i.imageData)?[4,se(p.data.uuid,i.imageData,"/ws/rest/v1/obs",i.dateTime||(new Date).toISOString(),l.concepts.patientPhotoUuid)]:[3,6];case 5:u.sent(),u.label=6;case 6:return[2,p.data.uuid]}}))}));return function(t,n,r,i,a,o,s,l,c,u,d){return e.apply(this,arguments)}}());var Be=function e(){ve(this,e),Ee(this,"patientSaved",!1)};function Te(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Te(a,r,i,o,s,"next",e)}function s(e){Te(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Fe(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Ie(e){return["/ws/fhir2/R4/Patient/".concat(e),"/ws/rest/v1/relationship?v=".concat(p,"&person=").concat(e),"/ws/rest/v1/person/".concat(e,"/attribute"),"/ws/rest/v1/patient/".concat(e,"/identifier?v=custom:(uuid,identifier,identifierType:(uuid,required,name),preferred)")].map((function(e){return window.origin+(0,r.makeUrl)(e)}))}function Pe(){return(Pe=je((function(){return Fe(this,(function(e){switch(e.label){case 0:return[4,Promise.all([I(),x(),G(),M(),V()])];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}function xe(e,t){return Ne.apply(this,arguments)}function Ne(){return Ne=je((function(e,t){return Fe(this,(function(n){switch(n.label){case 0:return[4,Se.savePatientFormOnline(e._patientRegistrationData.isNewPatient,e._patientRegistrationData.formValues,e._patientRegistrationData.patientUuidMap,e._patientRegistrationData.initialAddressFieldValues,e._patientRegistrationData.capturePhotoProps,e._patientRegistrationData.currentLocation,e._patientRegistrationData.initialIdentifierValues,e._patientRegistrationData.currentUser,e._patientRegistrationData.config,e._patientRegistrationData.savePatientTransactionManager,t.abort)];case 1:return n.sent(),[2]}}))})),Ne.apply(this,arguments)}var Ge=n(3373),Ue=n.n(Ge),Me=n(8010),Le=n.n(Me),Re=n(8877),Ve=n(7162),We=n(2326),qe=n(3150),ze=n(2505),He=n(4014),Ye=n(6155),Xe=n.n(Ye),Ke=(0,g.createContext)(void 0),Je=n(3375),Qe=n(2591),$e=n.n(Qe),Ze=n(1740),et=n.n(Ze),tt=n(8128),nt=n.n(tt),rt=n(855),it=n.n(rt),at=n(3051),ot=n.n(at),st=n(3656),lt=n.n(st),ct=n(5415),ut={};ut.styleTagTransform=lt(),ut.setAttributes=it(),ut.insert=nt().bind(null,"head"),ut.domAPI=et(),ut.insertStyleElement=ot(),$e()(ct.A,ut);const dt=ct.A&&ct.A.locals?ct.A.locals:void 0;var _t={patientUuid:(0,Je.A)(),givenName:"John",middleName:"",familyName:"Smith",additionalGivenName:"Joey",additionalMiddleName:"",additionalFamilyName:"Smitty",addNameInLocalLanguage:!0,gender:"Male",birthdate:new Date(2020,1,1),yearsEstimated:1,monthsEstimated:2,birthdateEstimated:!0,telephoneNumber:"0800001066",isDead:!1,deathDate:"",deathCause:"",relationships:[],address:{address1:"Bom Jesus Street",address2:"",cityVillage:"Recife",stateProvince:"Pernambuco",country:"Brazil",postalCode:"50030-310"},identifiers:{}},pt=function(e){var t=e.setValues;return h().createElement("main",null,h().createElement("button",{className:Ue()("omrs-btn omrs-filled-neutral",dt.dummyData),onClick:function(){return t(_t)},type:"button","aria-label":"Dummy Data Input"},"Input Dummy Data"))};function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){At(e,t,n[t])}))}return e}function gt(){window.history.back()}function ht(e){var t,n={},r=null===(t=e.address)||void 0===t?void 0:t[0];if(r){var i=!0,a=!1,o=void 0;try{for(var s,l=Object.keys(r)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;switch(c){case"city":n.cityVillage=r[c];break;case"state":n.stateProvince=r[c];break;case"district":n.countyDistrict=r[c];break;case"extension":r[c].forEach((function(e){e.extension.forEach((function(e){n[e.url.split("#")[1]]=e.valueString}))}));break;default:"country"!==c&&"postalCode"!==c||(n[c]=r[c])}}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}}return n}var bt=function(e,t){return new Date(t.encounterDatetime).getTime()-new Date(e.encounterDatetime).getTime()},yt=n(6372),vt=n.n(yt);function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Et(a,r,i,o,s,"next",e)}function s(e){Et(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Dt(e,t,n[t])}))}return e}function Ot(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Tt(e){return jt.apply(this,arguments)}function jt(){return(jt=wt((function(e){return Bt(this,(function(t){switch(t.label){case 0:return[4,(0,r.getSynchronizationItems)(A)];case 1:return[2,t.sent().find((function(t){return t._patientRegistrationData.formValues.patientUuid===e}))]}}))}))).apply(this,arguments)}function Ft(e){var t=!!e,n=(0,$.Ay)(t?"/ws/rest/v1/person/".concat(e,"/attribute?v=custom:(uuid,display,attributeType:(uuid,display,format),value)"):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading;return(0,g.useMemo)((function(){var e;return{data:null==i||null===(e=i.data)||void 0===e?void 0:e.results,isLoading:o}}),[i,a])}var It=n(6253),Pt={};Pt.styleTagTransform=lt(),Pt.setAttributes=it(),Pt.insert=nt().bind(null,"head"),Pt.domAPI=et(),Pt.insertStyleElement=ot(),$e()(It.A,Pt);const xt=It.A&&It.A.locals?It.A.locals:void 0;function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=function(e){var t,n,r,i,a=e.checkWarning,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["checkWarning"]),s=(t=(0,ze.Mt)(o.name),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1],u=(0,qe.useTranslation)().t,d=l.value||"",_=c.error&&u(c.error),p=(0,g.useMemo)((function(){if(!_&&"function"==typeof a){var e=a(d);return e&&u(e)}}),[a,_,d,u]),m=o.required?o.labelText:"".concat(o.labelText," (").concat(u("optional","optional"),")");return h().createElement("div",{style:{marginBottom:"1rem"}},h().createElement(Ve.Wdr,null,h().createElement(Ve.ksK,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gt(e,t,n[t])}))}return e}({},o,l),i=null!=(i={labelText:m,invalid:!(!c.touched||!c.error),invalidText:_,warn:!!p,warnText:p,value:d})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(i)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})),r))))},Mt=n(2459),Lt={};Lt.styleTagTransform=lt(),Lt.setAttributes=it(),Lt.insert=nt().bind(null,"head"),Lt.domAPI=et(),Lt.insertStyleElement=ot(),$e()(Mt.A,Lt);const Rt=Mt.A&&Mt.A.locals?Mt.A.locals:void 0;function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wt=/^([^0-9]*)$/;function qt(e){if(!Wt.test(e))return"numberInNameDubious"}var zt=function(){var e,t,n=(0,qe.useTranslation)().t,i=(0,g.useContext)(Ke),a=i.setCapturePhotoProps,o=i.currentPhoto,s=i.setFieldValue,l=(0,r.useConfig)().fieldConfigurations.name,c=l.displayCapturePhoto,u=l.allowUnidentifiedPatients,d=l.defaultUnknownGivenName,_=l.defaultUnknownFamilyName,p=l.displayMiddleName,m=l.displayReverseFieldOrder,A=(e=(0,ze.Mt)("attributes.".concat("8b56eac7-5c76-4b9c-8c6f-1deab8d3fc47")),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=A[0].value,b=A[2].setValue,y="true"===f,v=(0,g.useCallback)((function(e,t){a&&a({imageData:e,dateTime:t})}),[a]),C=h().createElement(Ut,{id:"givenName",name:"givenName",labelText:n("givenNameLabelText","First Name"),checkWarning:qt,required:!0}),E=p&&h().createElement(Ut,{id:"middleName",name:"middleName",labelText:n("middleNameLabelText","Middle Name"),checkWarning:qt}),w=h().createElement(Ut,{id:"familyName",name:"familyName",labelText:n("familyNameLabelText","Family Name"),checkWarning:qt,required:!0});return h().createElement("div",null,h().createElement("h4",{className:Rt.productiveHeading02Light},n("fullNameLabelText","Full Name")),h().createElement("div",{className:Rt.grid},c&&h().createElement(r.ExtensionSlot,{className:Rt.photoExtension,name:"capture-patient-photo-slot",state:{onCapturePhoto:v,initialState:o}}),h().createElement("div",{className:Rt.nameField},(u||y)&&h().createElement(h().Fragment,null,h().createElement("div",{className:Rt.dobContentSwitcherLabel},h().createElement("span",{className:Rt.label01},n("patientNameKnown","Patient's Name is Known?"))),h().createElement(Ve.Tps,{className:Rt.contentSwitcher,selectedIndex:y?1:0,onChange:function(e){"known"===e.name?(s("givenName",""),s("familyName",""),b("false")):(s("givenName",d),s("familyName",_),b("true"))}},h().createElement(Ve.dOG,{name:"known",text:n("yes","Yes")}),h().createElement(Ve.dOG,{name:"unknown",text:n("no","No")}))),!y&&(m?h().createElement(h().Fragment,null,w,E,C):h().createElement(h().Fragment,null,C,E,w)))))};function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yt=function(){var e,t,n=(0,r.useConfig)().fieldConfigurations,i=(0,qe.useTranslation)().t,a=(e=(0,ze.Mt)("gender"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],s=a[1],l=(0,g.useContext)(Ke).setFieldValue,c=null==n?void 0:n.gender;return h().createElement("div",{className:Rt.halfWidthInDesktopView},h().createElement("h4",{className:Rt.productiveHeading02Light},i("sexFieldLabelText","Sex")),h().createElement("div",{className:Rt.sexField},h().createElement("p",{className:"cds--label"},i("genderLabelText","Sex")),h().createElement(Ve.zWQ,{name:"gender",orientation:"vertical",onChange:function(e){l("gender",e)},valueSelected:o.value},c.map((function(e){var t,n,r;return h().createElement(Ve.aaP,{key:null!==(t=e.label)&&void 0!==t?t:e.value,id:"gender-option-".concat(e.value),value:e.value,labelText:i(null!==(n=e.label)&&void 0!==n?n:e.value,null!==(r=e.label)&&void 0!==r?r:e.value)})}))),s.touched&&s.error&&h().createElement("div",{className:Rt.radioFieldError},i(s.error,"Gender is required"))))},Xt=n(5848),Kt=n(529),Jt=n(8661),Qt={};Qt.styleTagTransform=lt(),Qt.setAttributes=it(),Qt.insert=nt().bind(null,"head"),Qt.domAPI=et(),Qt.insertStyleElement=ot(),$e()(Jt.A,Qt);const $t=Jt.A&&Jt.A.locals?Jt.A.locals:void 0;function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zt(e,t,n[t])}))}return e}const tn=function(e){var t=e.close,n=e.children,i=e.header,a=e.buttonsGroup,o=(0,qe.useTranslation)().t,s=(0,r.useLayoutType)();return h().createElement("div",{className:(0,r.isDesktop)(s)?$t.desktopOverlay:$t.tabletOverlay},(0,r.isDesktop)(s)?h().createElement("div",{className:$t.desktopHeader},h().createElement("div",{className:$t.headerContent},i),h().createElement(Ve.$nd,{className:$t.closeButton,iconDescription:o("closeOverlay","Close overlay"),onClick:t,kind:"ghost",hasIconOnly:!0,renderIcon:function(e){return h().createElement(Kt.bm,en({size:16},e))}})):h().createElement(Ve.Y9Y,{className:$t.tabletOverlayHeader,"aria-label":"Overlay header"},h().createElement(Ve.$nd,{kind:"ghost",onClick:t,hasIconOnly:!0,iconDescription:o("closeOverlay","Close overlay"),renderIcon:function(e){return h().createElement(Xt.nk,en({size:16,onClick:t},e))}}),h().createElement("div",{className:$t.headerContent},i)),h().createElement("div",{className:$t.overlayContent},n),h().createElement("div",null,a))};function nn(e){return rn(e)&&!e.identifierSources.some((function(e){var t,n;return!(null===(t=e.autoGenerationOption)||void 0===t?void 0:t.manualEntryEnabled)&&(null===(n=e.autoGenerationOption)||void 0===n?void 0:n.automaticGenerationEnabled)}))}function rn(e){return"UNIQUE"===e.uniquenessBehavior||"LOCATION"===e.uniquenessBehavior}var an=n(1733),on={};on.styleTagTransform=lt(),on.setAttributes=it(),on.insert=nt().bind(null,"head"),on.domAPI=et(),on.insertStyleElement=ot(),$e()(an.A,on);const sn=an.A&&an.A.locals?an.A.locals:void 0;function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){cn(e,t,n[t])}))}return e}function dn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const pn=function(e){var t=e.closeOverlay,n=e.setFieldValue,i=(0,r.useLayoutType)(),a=(0,g.useContext)(F).identifierTypes,o=(0,g.useContext)(Ke),s=o.isOffline,l=o.values,c=o.initialFormValues,u=_n((0,g.useState)(l.identifiers),2),d=u[0],_=u[1],p=_n((0,g.useState)(""),2),m=p[0],A=p[1],f=(0,qe.useTranslation)().t,b=(0,r.useConfig)().defaultPatientIdentifierTypes,y=(0,g.useMemo)((function(){var e={};return null==b||b.forEach((function(t){e[t]=!0})),e}),[b]);(0,g.useEffect)((function(){_(l.identifiers)}),[l.identifiers]);var v=(0,g.useCallback)((function(e){var t,n;return A(null!==(n=null==e||null===(t=e.target)||void 0===t?void 0:t.value)&&void 0!==n?n:"")}),[]),C=(0,g.useMemo)((function(){return null==a?void 0:a.filter((function(e){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase())}))}),[m,a]),E=(0,g.useCallback)((function(e,t){return _((function(n){var r,i;return t?dn(un({},n),cn({},e.fieldName,Sn(e,null!==(i=null!==(r=l.identifiers[e.fieldName])&&void 0!==r?r:c.identifiers[e.fieldName])&&void 0!==i?i:{}))):n[e.fieldName]?Object.fromEntries(Object.entries(n).filter((function(t){return _n(t,1)[0]!==e.fieldName}))):n}))}),[c.identifiers,l.identifiers]),w=(0,g.useMemo)((function(){return C.map((function(e){var t,n,r=d[e.fieldName],i=e.isPrimary||e.required||y[e.uuid]||l.identifiers[e.fieldName],a=s&&nn(e);return h().createElement("div",{key:e.uuid,className:sn.space05},h().createElement(Ve.Sc0,{id:e.uuid,value:e.uuid,labelText:e.name,onChange:function(t,n){var r=n.checked;return E(e,r)},checked:!!r,disabled:i||s&&a}),r&&(null==e||null===(t=e.identifierSources)||void 0===t?void 0:t.length)>0&&(!r.initialValue||(null==r?void 0:r.selectedSource))&&h().createElement("div",{className:sn.radioGroup},h().createElement(Ve.zWQ,{legendText:f("source","Source"),name:"".concat(null==e?void 0:e.fieldName,"-identifier-sources"),defaultSelected:null==r||null===(n=r.selectedSource)||void 0===n?void 0:n.uuid,onChange:function(t){return function(e,t){return _((function(n){return dn(un({},n),cn({},e.fieldName,un({},n[e.fieldName],On(e.identifierSources.find((function(e){return e.uuid===t})),n[e.fieldName].identifierValue,n[e.fieldName].initialValue))))}))}(e,t)},orientation:"vertical"},null==e?void 0:e.identifierSources.map((function(t){var n;return h().createElement(Ve.aaP,{key:t.uuid,labelText:t.name,name:t.uuid,value:t.uuid,className:sn.radioButton,disabled:s&&rn(e)&&(null===(n=t.autoGenerationOption)||void 0===n?void 0:n.manualEntryEnabled)})})))))}))}),[C,d,y,l.identifiers,s,E,f]),D=(0,g.useCallback)((function(){n("identifiers",d),t()}),[d,n,t]);return h().createElement(tn,{close:t,header:f("configureIdentifiers","Configure identifiers"),buttonsGroup:h().createElement(Ve.Te$,{className:(0,r.isDesktop)(i)?sn.desktop:sn.tablet},h().createElement(Ve.$nd,{className:sn.button,kind:"secondary",onClick:t},f("cancel","Cancel")),h().createElement(Ve.$nd,{className:sn.button,kind:"primary",onClick:D},f("configureIdentifiers","Configure identifiers")))},h().createElement("div",null,h().createElement("p",{className:sn.bodyLong02},f("IDInstructions","Select the identifiers you'd like to add for this patient:")),a.length>7&&h().createElement("div",{className:sn.space05},h().createElement(Ve.vji,{labelText:f("searchIdentifierPlaceholder","Search identifier"),placeholder:f("searchIdentifierPlaceholder","Search identifier"),onChange:v,value:m})),h().createElement("fieldset",null,w)))};var mn=n(1899),An=n(8537),fn=n(4389);function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hn(e,t,n[t])}))}return e}function yn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Cn=function(e){var t=e.patientIdentifier,n=e.fieldName,i=(0,qe.useTranslation)().t,a=(0,r.useConfig)().defaultPatientIdentifierTypes,o=(0,g.useContext)(F).identifierTypes,s=(0,g.useContext)(Ke),l=s.isOffline,c=s.values,u=s.setFieldValue,d=(0,g.useMemo)((function(){return o.find((function(e){return e.uuid===t.identifierTypeUuid}))}),[t,o]),_=t.autoGeneration,p=t.initialValue,m=t.identifierValue,A=t.identifierName,f=t.required,b=vn((0,g.useState)(_||p===m),2),y=b[0],v=b[1],C="identifiers.".concat(n,".identifierValue"),E=vn((0,ze.Mt)(C),2),w=E[0],D=E[1],k=l&&nn(d),O=(0,g.useMemo)((function(){var e={};return null==a||a.forEach((function(t){e[t]=!0})),e}),[a]),S=(0,g.useCallback)((function(){v(!0),u("identifiers.".concat(n),yn(bn({},t),{identifierValue:p,selectedSource:null,autoGeneration:!1}))}),[p,v]);return h().createElement("div",{className:dt.IDInput},_||y?h().createElement("div",{className:dt.textID},h().createElement("p",{className:dt.label},A),h().createElement("p",{className:dt.bodyShort02},_?i("autoGeneratedPlaceholderText","Auto-generated"):m),h().createElement("input",yn(bn({type:"hidden"},w),{disabled:!0})),!(!D.touched||!D.error)&&h().createElement("span",{className:dt.dangerLabel01},D.error&&i(D.error))):h().createElement(Ut,bn({id:C,labelText:A,name:C,disabled:k,required:f,invalid:!(!D.touched||!D.error),invalidText:D.error&&i(D.error)},w)),h().createElement("div",{style:{marginBottom:"1rem"}},!t.required&&t.initialValue&&y&&h().createElement(r.UserHasAccess,{privilege:"Edit Patient Identifiers"},h().createElement(Ve.$nd,{size:"md",kind:"ghost",onClick:function(){var e;v(!1),u("identifiers.".concat(n),bn({},t,On(null==d||null===(e=d.identifierSources)||void 0===e?void 0:e[0],p,p)))},iconDescription:i("editIdentifierTooltip","Edit"),disabled:k,hasIconOnly:!0},h().createElement(mn.ff,{size:16}))),p&&p!==m&&h().createElement(r.UserHasAccess,{privilege:"Edit Patient Identifiers"},h().createElement(Ve.$nd,{size:"md",kind:"ghost",onClick:S,iconDescription:i("resetIdentifierTooltip","Reset"),disabled:k,hasIconOnly:!0},h().createElement(An.Yn,{size:16}))),!t.required&&!O[t.identifierTypeUuid]&&h().createElement(r.UserHasAccess,{privilege:"Delete Patient Identifiers"},h().createElement(Ve.$nd,{size:"md",kind:"ghost",onClick:function(){if(p)var e=(0,r.showModal)("delete-identifier-confirmation-modal",{deleteIdentifier:function(t){t&&u("identifiers",Bn(c.identifiers,n)),e()},identifierName:A,initialValue:p});else u("identifiers",Bn(c.identifiers,n))},iconDescription:i("deleteIdentifierTooltip","Delete"),disabled:k,hasIconOnly:!0},h().createElement(fn.zH,{size:16})))))};function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wn(e,t,n[t])}))}return e}function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t,n){var r,i=null==e||null===(r=e.autoGenerationOption)||void 0===r?void 0:r.automaticGenerationEnabled;return{selectedSource:e,autoGeneration:i,identifierValue:i?"auto-generated":"auto-generated"!==t?t:n}}function Sn(e,t){var n,r,i;return Dn({identifierTypeUuid:e.uuid,identifierName:e.name,preferred:e.isPrimary,initialValue:"",required:e.isPrimary||e.required},t,On(null!==(r=null==t?void 0:t.selectedSource)&&void 0!==r?r:null===(n=e.identifierSources)||void 0===n?void 0:n[0],null==t?void 0:t.identifierValue,null!==(i=null==t?void 0:t.initialValue)&&void 0!==i?i:""))}function Bn(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){return kn(e,1)[0]!==t})))}var Tn=function(){var e=(0,g.useContext)(F).identifierTypes,t=!e,n=(0,g.useContext)(Ke),i=n.values,a=n.setFieldValue,o=n.initialFormValues,s=n.isOffline,l=(0,qe.useTranslation)().t,c=(0,r.useLayoutType)(),u=kn((0,g.useState)(!1),2),d=u[0],_=u[1],p=(0,r.useConfig)().defaultPatientIdentifierTypes;(0,g.useEffect)((function(){if(e){var t={};e.filter((function(e){return e.isPrimary||e.required||!!(null==p?void 0:p.find((function(t){return t===e.uuid})))})).filter((function(e){return!i.identifiers[e.fieldName]})).forEach((function(e){var n,r;t[e.fieldName]=Sn(e,null!==(r=null!==(n=i.identifiers[e.uuid])&&void 0!==n?n:o.identifiers[e.uuid])&&void 0!==r?r:{})})),Object.keys(t).length&&a("identifiers",Dn({},i.identifiers,t))}}),[e,a,p,i.identifiers,Sn]);var m=(0,g.useCallback)((function(){return _(!1)}),[_]);return t&&!s?h().createElement("div",{"data-testid":"loading-skeleton",className:Rt.halfWidthInDesktopView},h().createElement("div",{className:Rt.identifierLabelText},h().createElement("h4",{className:Rt.productiveHeading02Light},l("idFieldLabelText","Identifiers"))),h().createElement(Ve.rrI,null)):h().createElement("div",{className:Rt.halfWidthInDesktopView},h().createElement(r.UserHasAccess,{privilege:["Get Identifier Types","Add Patient Identifiers"]},h().createElement("div",{className:Rt.identifierLabelText},h().createElement("h4",{className:Rt.productiveHeading02Light},l("idFieldLabelText","Identifiers")),h().createElement(Ve.$nd,{kind:"ghost",className:Rt.setIDNumberButton,onClick:function(){return _(!0)},size:(0,r.isDesktop)(c)?"sm":"md"},l("configure","Configure")," ",h().createElement(Xt.Qp,{size:16})))),h().createElement("div",null,Object.entries(i.identifiers).map((function(e){var t=kn(e,2),n=t[0],r=t[1];return h().createElement(Cn,{key:n,fieldName:n,patientIdentifier:r})})),d&&h().createElement(pn,{setFieldValue:a,closeOverlay:m})))};function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fn(e,t,n[t])}))}return e}function Pn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nn=function(e,t,n){var r=n.useEstimatedDateOfBirth,i=r.enabled,a=r.month,o=r.dayOfMonth,s=new Date,l=new Date(s.getFullYear()-e,s.getMonth()-t,1),c=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),u=new Date(l.getFullYear(),l.getMonth(),Math.min(s.getDate(),c));return i?new Date(u.getFullYear(),a,o):u},Gn=function(){var e,t,n=(0,qe.useTranslation)().t,i=(0,r.useConfig)().fieldConfigurations.dateOfBirth,a=null==i?void 0:i.allowEstimatedDateOfBirth,o=xn((0,ze.Mt)("birthdateEstimated"),1)[0].value,s=xn((0,ze.Mt)("birthdate"),2),l=s[0],c=s[1],u=xn((0,ze.Mt)("yearsEstimated"),2),d=u[0],_=u[1],p=xn((0,ze.Mt)("monthsEstimated"),2),m=p[0],A=p[1],f=(0,g.useContext)(Ke).setFieldValue,b=(t="/",{parse:function(n){var r=n.split(t),i=new Date(null);return e.forEach((function(e,t){switch(e){case"d":i.setDate(parseInt(r[t]));break;case"m":i.setMonth(parseInt(r[t])-1);break;case"Y":i.setFullYear(parseInt(r[t]))}})),i},format:function(n){if(null===n)return"";if(i=n,null!=(a=Date)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](i):i instanceof a){var r=[];return e.forEach((function(e,t){switch(e){case"d":r[t]=n.getDate();break;case"m":r[t]=n.getMonth()+1;break;case"Y":r[t]=n.getFullYear()}})),r.join(t)}return n;var i,a},placeHolder:(e=["d","m","Y"]).map((function(e){return"Y"===e?"YYYY":e+e})).join(t),dateFormat:e.join(t)}),y=b.format,v=b.placeHolder,C=b.dateFormat,E=new Date,w=(0,g.useCallback)((function(e){f("birthdateEstimated","unknown"===e.name),f("birthdate",""),f("yearsEstimated",0),f("monthsEstimated","")}),[f]),D=(0,g.useCallback)((function(e){f("birthdate",e[0])}),[f]),k=(0,g.useCallback)((function(e){var t=+e.target.value;!isNaN(t)&&t<140&&t>=0&&(f("yearsEstimated",t),f("birthdate",Nn(t,A.value,i)))}),[f,i,A.value]),O=(0,g.useCallback)((function(e){var t=+e.target.value;isNaN(t)||(f("monthsEstimated",t),f("birthdate",Nn(_.value,t,i)))}),[f,i,_.value]),S=(0,g.useCallback)((function(){var e=+A.value%12,t=+_.value+Math.floor(A.value/12);f("yearsEstimated",t),f("monthsEstimated",e>0?e:""),f("birthdate",Nn(t,e,i))}),[f,A,_,i]);return h().createElement("div",{className:Rt.halfWidthInDesktopView},h().createElement("h4",{className:Rt.productiveHeading02Light},n("birthFieldLabelText","Birth")),(a||o)&&h().createElement("div",{className:Rt.dobField},h().createElement("div",{className:Rt.dobContentSwitcherLabel},h().createElement("span",{className:Rt.label01},n("dobToggleLabelText","Date of Birth Known?"))),h().createElement(Ve.Tps,{onChange:w,selectedIndex:o?1:0},h().createElement(Ve.dOG,{name:"known",text:n("yes","Yes")}),h().createElement(Ve.dOG,{name:"unknown",text:n("no","No")}))),h().createElement(Ve.Wdr,null,o?h().createElement("div",{className:Rt.grid},h().createElement("div",{className:Rt.dobField},h().createElement(Ve.Wdr,null,h().createElement(Ve.ksK,Pn(In({id:"yearsEstimated",type:"number",name:d.name,onChange:k,labelText:n("estimatedAgeInYearsLabelText","Estimated age in years"),invalid:!(!_.touched||!_.error),invalidText:_.error&&n(_.error),value:d.value,min:0,required:!0},d),{onBlur:S})))),h().createElement("div",{className:Rt.dobField},h().createElement(Ve.Wdr,null,h().createElement(Ve.ksK,Pn(In({id:"monthsEstimated",type:"number",name:m.name,onChange:O,labelText:n("estimatedAgeInMonthsLabelText","Estimated age in months"),invalid:!(!A.touched||!A.error),invalidText:A.error&&n(A.error),value:m.value,min:0},m),{required:!_.value,onBlur:S}))))):h().createElement("div",{className:Rt.dobField},h().createElement(Ve.lrV,{dateFormat:C,datePickerType:"single",onChange:D,maxDate:y(E)},h().createElement(Ve.tKA,Pn(In({id:"birthdate"},l),{placeholder:v,labelText:n("dateOfBirthLabelText","Date of Birth"),invalid:!(!c.touched||!c.error),invalidText:c.error&&n(c.error),value:y(l.value)}))))))};function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=function(e){var t=e.fieldDefinition,n=(0,qe.useTranslation)().t;return h().createElement("div",{className:Ue()(Rt.customField,Rt.halfWidthInDesktopView)},h().createElement(ze.D0,{name:t.id},(function(e){var r=e.field,i=e.form;return i.touched,i.errors,e.meta,h().createElement(Ut,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Un(e,t,n[t])}))}return e}({id:t.id,labelText:n("".concat(t.label),"".concat(t.label))},r))})))};function Ln(e){var t,n="string"==typeof e&&""!==e,i=Le()(n?"/ws/rest/v1/concept/".concat(e):null,r.openmrsFetch),a=i.data,o=i.error,s=i.isLoading;return o&&(0,r.showSnackbar)({title:o.name,subtitle:o.message,kind:"error"}),{data:null==a||null===(t=a.data)||void 0===t?void 0:t.answers,isLoading:s}}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Rn(e,t,n[t])}))}return e}function Wn(e){var t=e.fieldDefinition,n=(0,qe.useTranslation)().t,i=function(e){var t="string"==typeof e&&""!==e,n=Le()(t?"/ws/rest/v1/concept/".concat(e):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading;return a&&(0,r.showSnackbar)({title:a.name,subtitle:a.message,kind:"error"}),{data:null==i?void 0:i.data,isLoading:o}}(t.uuid),a=i.data,o=i.isLoading;if(!(0,r.useConfig)().registrationObs.encounterTypeUuid)return console.error("The registration form has been configured to have obs fields, but no registration encounter type has been configured. Obs fields will not be displayed."),null;if(o)return null;switch(a.datatype.display){case"Text":return h().createElement(qn,{concept:a,validationRegex:t.validation.matches,label:t.label,required:t.validation.required});case"Numeric":return h().createElement(zn,{concept:a,label:t.label,required:t.validation.required});case"Coded":return h().createElement(Hn,{concept:a,answerConceptSetUuid:t.answerConceptSetUuid,label:t.label,required:t.validation.required,customConceptAnswers:t.customConceptAnswers});default:return h().createElement(Ve.jeF,{kind:"error",title:"Error"},n("obsFieldUnknownDatatype","Concept for obs field '{{fieldDefinitionId}}' has unknown datatype '{{datatypeName}}'",{fieldDefinitionId:t.id,datatypeName:a.datatype.display}))}}function qn(e){var t=e.concept,n=e.validationRegex,r=e.label,i=e.required,a=(0,qe.useTranslation)().t,o="obs.".concat(t.uuid);return h().createElement("div",{className:Ue()(Rt.customField,Rt.halfWidthInDesktopView)},h().createElement(ze.D0,{name:o,validate:function(e){if(e&&n&&""!==n&&"string"==typeof n&&""!==e)return new RegExp(n).test(e)?void 0:a("invalidInput","Invalid Input")}},(function(e){var n=e.field,a=e.form,s=a.touched,l=a.errors;return e.meta,h().createElement(Ut,Vn({id:o,labelText:null!=r?r:t.display,required:i,invalid:l[o]&&s[o]},n))})))}function zn(e){var t=e.concept,n=e.label,r=e.required,i="obs.".concat(t.uuid);return h().createElement("div",{className:Ue()(Rt.customField,Rt.halfWidthInDesktopView)},h().createElement(ze.D0,{name:i},(function(e){var a=e.field,o=e.form,s=o.touched,l=o.errors;return e.meta,h().createElement(Ut,Vn({id:i,labelText:null!=n?n:t.display,required:r,invalid:l[i]&&s[i],type:"number"},a))})))}function Hn(e){var t=e.concept,n=e.answerConceptSetUuid,r=e.label,i=e.required,a=e.customConceptAnswers,o=(0,qe.useTranslation)().t,s="obs.".concat(t.uuid),l=Ln(a.length?"":null!=n?n:t.uuid),c=l.data,u=l.isLoading,d=(0,g.useMemo)((function(){return a.length?a:u?[]:c.map((function(e){return t=Vn({},e),n=null!=(n={label:e.display})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t;var t,n}))}),[a,c,u]);return h().createElement("div",{className:Ue()(Rt.customField,Rt.halfWidthInDesktopView)},u?null:h().createElement(ze.D0,{name:s},(function(e){var n=e.field,a=e.form,l=a.touched,c=a.errors;return e.meta,h().createElement(Ve.Wdr,null,h().createElement(Ve.l6P,Vn({id:s,name:s,labelText:null!=r?r:null==t?void 0:t.display,required:i,invalid:c[s]&&l[s]},n),h().createElement(Ve.ebT,{key:"no-answer-select-item-".concat(s),value:"",text:o("selectAnOption","Select an option")}),d.map((function(e){return h().createElement(Ve.ebT,{key:e.uuid,value:e.uuid,text:e.label})}))))})))}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xn(e,t,n[t])}))}return e}function Jn(e){var t,n,i=e.id,a=e.personAttributeType,o=e.answerConceptSetUuid,s=e.label,l=e.customConceptAnswers,c=Ln(l.length?"":o),u=c.data,d=c.isLoading,_=(0,qe.useTranslation)().t,p="attributes.".concat(a.uuid),m=(t=(0,g.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=m[0],f=m[1];(0,g.useEffect)((function(){o||l.length||((0,r.reportError)(_("codedPersonAttributeNoAnswerSet","The person attribute field '{{codedPersonAttributeFieldId}}' is of type 'coded' but has been defined without an answer concept set UUID. The 'answerConceptSetUuid' key is required.",{codedPersonAttributeFieldId:i})),f(!0))}),[o,l]),(0,g.useEffect)((function(){d||l.length||(u||((0,r.reportError)(_("codedPersonAttributeAnswerSetInvalid","The coded person attribute field '{{codedPersonAttributeFieldId}}' has been defined with an invalid answer concept set UUID '{{answerConceptSetUuid}}'.",{codedPersonAttributeFieldId:i,answerConceptSetUuid:o})),f(!0)),0==(null==u?void 0:u.length)&&((0,r.reportError)(_("codedPersonAttributeAnswerSetEmpty","The coded person attribute field '{{codedPersonAttributeFieldId}}' has been defined with an answer concept set UUID '{{answerConceptSetUuid}}' that does not have any concept answers.",{codedPersonAttributeFieldId:i,answerConceptSetUuid:o})),f(!0)))}),[d,u,l]);var b=(0,g.useMemo)((function(){return l.length?l:d||!u?[]:u.map((function(e){return t=Kn({},e),n=null!=(n={label:e.display})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t;var t,n})).sort((function(e,t){return e.label.localeCompare(t.label)}))}),[l,u,d]);return A?null:h().createElement("div",{className:Ue()(Rt.customField,Rt.halfWidthInDesktopView)},d?null:h().createElement(Ve.Wdr,null,h().createElement(ze.D0,{name:p},(function(e){var t=e.field,n=e.form,r=n.touched,o=n.errors;return e.meta,h().createElement(h().Fragment,null,h().createElement(Ve.l6P,Kn({id:i,name:"person-attribute-".concat(a.uuid),labelText:null!=s?s:null==a?void 0:a.display,invalid:o[p]&&r[p]},t),h().createElement(Ve.ebT,{value:"",text:_("selectAnOption","Select an option")}),b.map((function(e){return h().createElement(Ve.ebT,{key:e.uuid,value:e.uuid,text:e.label})}))))}))))}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $n(e){var t=e.id,n=e.personAttributeType,r=e.validationRegex,i=e.label,a=e.required,o=(0,qe.useTranslation)().t,s="attributes.".concat(n.uuid);return h().createElement("div",{className:Ue()(Rt.customField,Rt.halfWidthInDesktopView)},h().createElement(ze.D0,{name:s,validate:function(e){if(e&&r&&""!==r&&"string"==typeof r&&""!==e)return new RegExp(r).test(e)?void 0:o("invalidInput","Invalid Input")}},(function(e){var r,o,l=e.field,c=e.form,u=c.touched,d=c.errors;return e.meta,h().createElement(Ut,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qn(e,t,n[t])}))}return e}({id:t,name:"person-attribute-".concat(n.uuid),labelText:null!=i?i:null==n?void 0:n.display,invalid:d[s]&&u[s]},l),o=null!=(o={required:a})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})),r))})))}function Zn(e){var t,n,i=e.fieldDefinition,a=function(e){var t=Le()("/ws/rest/v1/personattributetype/".concat(e),r.openmrsFetch),n=t.data,i=t.error,a=t.isLoading;return{data:null==n?void 0:n.data,isLoading:a,error:i}}(i.uuid),o=a.data,s=a.isLoading,l=a.error,c=(0,qe.useTranslation)().t,u=(0,g.useMemo)((function(){if(!o)return null;switch(o.format){case"java.lang.String":var e,t,n,r;return h().createElement($n,{personAttributeType:o,validationRegex:null!==(n=null===(e=i.validation)||void 0===e?void 0:e.matches)&&void 0!==n?n:"",label:i.label,required:null!==(r=null===(t=i.validation)||void 0===t?void 0:t.required)&&void 0!==r&&r,id:null==i?void 0:i.id});case"org.openmrs.Concept":var a;return h().createElement(Jn,{personAttributeType:o,answerConceptSetUuid:i.answerConceptSetUuid,label:i.label,id:null==i?void 0:i.id,customConceptAnswers:null!==(a=i.customConceptAnswers)&&void 0!==a?a:[]});default:return h().createElement(Ve.jeF,{kind:"error",title:"Error"},c("unknownPatientAttributeType","Patient attribute type has unknown format {{personAttributeTypeFormat}}",{personAttributeTypeFormat:o.format}))}}),[o,i,c]);return s?h().createElement("div",null,i.showHeading&&h().createElement("h4",{className:Rt.productiveHeading02Light},null==i?void 0:i.label),h().createElement(Ve.P3Z,null)):l?h().createElement("div",null,i.showHeading&&h().createElement("h4",{className:Rt.productiveHeading02Light},null==i?void 0:i.label),h().createElement(Ve.jeF,{kind:"error",title:c("error","Error")},c("unableToFetch","Unable to fetch person attribute type - {{personattributetype}}",{personattributetype:null!==(t=null==i?void 0:i.label)&&void 0!==t?t:null==i?void 0:i.id}))):h().createElement("div",null,i.showHeading&&h().createElement("h4",{className:Rt.productiveHeading02Light},null!==(n=null==i?void 0:i.label)&&void 0!==n?n:null==o?void 0:o.display),u)}function er(e){var t=e.name,n=(0,r.useConfig)().fieldDefinitions.filter((function(e){return e.id==t}))[0];return"person attribute"===n.type?h().createElement(Zn,{fieldDefinition:n}):"obs"===n.type?h().createElement(Wn,{fieldDefinition:n}):"address"===n.type?h().createElement(Mn,{fieldDefinition:n}):h().createElement("div",null,"Error: Unknown field type ",n.type)}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(){var e=Le()("/module/addresshierarchy/ajax/getOrderedAddressHierarchyLevels.form",r.openmrsFetch),t=e.data,n=e.isLoading,i=e.error,a=(0,g.useMemo)((function(){var e;return{orderedFields:null==t||null===(e=t.data)||void 0===e?void 0:e.map((function(e){return e.addressField})),isLoadingFieldOrder:n,errorFetchingFieldOrder:i}}),[t,n,i]);return a}function ir(e){var t,n,r=rr(),i=r.orderedFields,a=r.isLoadingFieldOrder,o=(0,g.useContext)(Ke).setFieldValue,s=(t=(0,ze.Mt)("address"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1].value,l=(0,g.useMemo)((function(){return a?-1:i.findIndex((function(t){return t===e}))}),[i,e,a]),c=(0,g.useMemo)((function(){var e,t=!0,n=null!==(e=null==i?void 0:i.slice(0,l))&&void 0!==e?e:[],r=[],a=!0,o=!1,c=void 0;try{for(var u,d=n[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var _=u.value;if(!s[_]){t=!1;break}r.push(s[_])}}catch(e){o=!0,c=e}finally{try{a||null==d.return||d.return()}finally{if(o)throw c}}return{fetchEntriesForField:t,searchString:r.join("|")}}),[i,l,s]),u=(0,g.useCallback)((function(){a||i.slice(l+1).map((function(e){o("address.".concat(e),"")}))}),[l,a,i,o]),d=(0,g.useMemo)((function(){return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nr(e,t,n[t])}))}return e}({},c),t=null!=(t={updateChildElements:u})?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e;var e,t}),[c,u]);return d}const ar=function(){return h().createElement("svg",{focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 32 32","aria-hidden":"true",className:"cds--list-box__menu-item__selected-icon"},h().createElement("path",{d:"M13 24L4 15 5.414 13.586 13 21.171 26.586 7.586 28 9 13 24z"}))};function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const cr=function(e){var t,n,r=e.entries,i=e.fieldProps,a=e.handleInputChange,o=e.handleSelection,s=lr((0,g.useState)(-1),2),l=s[0],c=s[1],u=i.value,d=void 0===u?"":u,_=lr((0,g.useState)(!1),2),p=_[0],m=_[1],A=(0,g.useRef)(null),f=(0,g.useCallback)((function(){m(!0),c(-1)}),[m,c]),b=(0,g.useMemo)((function(){return r?d?r.filter((function(e){return e.toLowerCase().includes(d.toLowerCase())})):r:[]}),[r,d]),y=(0,g.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==t||t.preventDefault(),o(e),m(!1)}),[o,m]),v=(0,g.useCallback)((function(e){var t,n=null!==(t=b.length)&&void 0!==t?t:0;"Tab"===e.key&&(m(!1),c(-1)),"ArrowUp"===e.key?c((function(e){return Math.max(-1,e-1)})):"ArrowDown"===e.key?c((function(e){return Math.min(n-1,e+1)})):"Enter"===e.key&&l>-1&&y(b[l],e)}),[l,y,b,c,m]);return(0,g.useEffect)((function(){var e=function(e){A.current.contains(e.target)||(m(!1),c(-1))};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}})),h().createElement("div",{className:dt.comboInput,ref:A},h().createElement(Ve.Wdr,null,h().createElement(Ve.ksK,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sr(e,t,n[t])}))}return e}({},i),n=null!=(n={onChange:function(e){c(-1),a(e.target.value)},onFocus:f,autoComplete:"off",onKeyDown:v})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))),h().createElement("div",{className:dt.comboInputEntries},p&&h().createElement("div",{className:"cds--combo-box cds--list-box cds--list-box--expanded"},h().createElement("div",{id:"downshift-1-menu",className:"cds--list-box__menu",role:"listbox"},b.map((function(e,t){return h().createElement("div",{className:Ue()("cds--list-box__menu-item",{"cds--list-box__menu-item--highlighted":t===l}),key:t,id:"downshift-1-item-0",role:"option",tabIndex:-1,"aria-selected":"true",onClick:function(){return y(e)}},h().createElement("div",{className:Ue()("cds--list-box__menu-item__option",dt.comboInputItemOption,{"cds--list-box__menu-item--active":e===d})},e,e===d&&h().createElement(ar,null)))}))))))};function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dr(e,t,n[t])}))}return e}const pr=function(e){var t=e.orderedAddressFields;return(0,qe.useTranslation)().t,h().createElement(h().Fragment,null,t.map((function(e){return h().createElement(mr,{key:e.id,attribute:e})})))};var mr=function(e){var t,n,i,a,o=e.attribute,s=(0,qe.useTranslation)().t,l=(t=(0,ze.Mt)("address.".concat(o.name)),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],d=l[2].setValue,_=ir(o.name),p=_.fetchEntriesForField,m=_.searchString,A=_.updateChildElements,f=function(e,t){var n=encodeURIComponent(t),i=Le()(e?"module/addresshierarchy/ajax/getChildAddressHierarchyEntries.form?searchString=".concat(n):null,r.openmrsFetch),a=i.data,o=i.isLoading,s=i.error;return(0,g.useEffect)((function(){s&&console.error(s)}),[s]),(0,g.useMemo)((function(){var e;return{entries:null==a||null===(e=a.data)||void 0===e?void 0:e.map((function(e){return e.name})),isLoadingAddressEntries:o,errorFetchingAddressEntries:s}}),[a,o,s])}(p,m).entries,b=s(o.label)+((null==o?void 0:o.required)?"":" (".concat(s("optional","optional"),")")),y=(0,g.useCallback)((function(e){d(e)}),[d]),v=(0,g.useCallback)((function(e){u.value!==e&&(d(e),A())}),[A,u.value,d]);return h().createElement(cr,{entries:f,handleSelection:v,name:"address.".concat(o.name),fieldProps:(i=_r({},c),a={id:o.name,labelText:b,required:null==o?void 0:o.required},a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(a)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})),i),handleInputChange:y})},Ar=n(439),fr={};fr.styleTagTransform=lt(),fr.setAttributes=it(),fr.insert=nt().bind(null,"head"),fr.domAPI=et(),fr.insertStyleElement=ot(),$e()(Ar.A,fr);const gr=Ar.A&&Ar.A.locals?Ar.A.locals:void 0;function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e,t){if(e){if("string"==typeof e)return hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(e,t):void 0}}const yr=function(e){var t,n,i=e.addressLayout,a=(0,qe.useTranslation)().t,o=" > ",s=(0,g.useRef)(null),l=(0,g.useRef)(null),c=(t=(0,g.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||br(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1],_=function(e,t){var n=Le()(e?"/module/addresshierarchy/ajax/getPossibleFullAddresses.form?separator=".concat(t,"&searchString=").concat(e):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading;return(0,g.useMemo)((function(){var e,t;return{addresses:null!==(t=null==i||null===(e=i.data)||void 0===e?void 0:e.map((function(e){return e.address})))&&void 0!==t?t:[],error:a,isLoading:o}}),[null==i?void 0:i.data,a,o])}(u,o),p=_.addresses,m=(_.isLoading,_.error,(0,g.useMemo)((function(){var e=new Set;return p.forEach((function(t){var n=t.split(o);n.forEach((function(t,r){t.toLowerCase().includes(u.toLowerCase())&&e.add(n.slice(0,r+1).join(o))}))})),function(e){return function(e){if(Array.isArray(e))return hr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||br(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e)}),[p,u])),A=(0,ze.j7)().setFieldValue,f=function(e){l.current&&!l.current.contains(e.target)&&d("")};return(0,g.useEffect)((function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}}),[l]),h().createElement("div",{className:gr.autocomplete,ref:l,style:{marginBottom:"1rem"}},h().createElement(Ve.vji,{onChange:function(e){d(e.target.value)},labelText:a("searchAddress","Search address"),placeholder:a("searchAddress","Search address"),ref:s,value:u}),m.length>0&&h().createElement("ul",{className:gr.suggestions},m.map((function(e,t){return h().createElement("li",{key:t,onClick:function(t){return function(e){if(e){var t=e.split(o);i.map((function(e,n){var r,i=e.name;A("address.".concat(i),null!==(r=null==t?void 0:t[n])&&void 0!==r?r:"")})),d("")}}(e)}},e)}))))};function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||Er(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){if(e){if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(e,t):void 0}}var wr=function(){var e=Cr((0,g.useState)(""),2),t=e[0],n=(e[1],(0,g.useContext)(F).addressTemplate),i=(0,g.useMemo)((function(){var e,t;if(!(null==n?void 0:n.lines))return[];var r=null==n||null===(e=n.lines)||void 0===e?void 0:e.flat(),i=null==r?void 0:r.filter((function(e){return"IS_ADDR_TOKEN"===e.isToken})),a=Object.fromEntries((null==n||null===(t=n.requiredElements)||void 0===t?void 0:t.map((function(e){return[e,e]})))||[]);return i.map((function(e){var t=e.displayText,n=e.codeName;return{id:n,name:n,label:t,required:Boolean(a[n])}}))}),[n]),a=(0,qe.useTranslation)().t,o=(0,r.useConfig)(),s=(0,r.useConnectivity)(),l=o.fieldConfigurations.address.useAddressHierarchy,c=l.enabled,u=l.useQuickSearch,d=l.searchAddressByLevel,_=(0,g.useContext)(Ke).setFieldValue,p=rr(),m=p.orderedFields,A=p.isLoadingFieldOrder,f=p.errorFetchingFieldOrder;(0,g.useEffect)((function(){(null==n?void 0:n.elementDefaults)&&Object.entries(n.elementDefaults).forEach((function(e){var t=Cr(e,2),n=t[0],r=t[1];_("address.".concat(n),r)}))}),[n,_]);var b=(0,g.useMemo)((function(){if(A||f)return[];var e,t=Object.fromEntries(m.map((function(e,t){return[e,t]})));return(e=i,function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Er(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,n){return t[e.name]-t[n.name]}))}),[A,f,m,i]);return n?c&&s?A?h().createElement(Dr,null,h().createElement(Ve.rrI,null)):f?h().createElement(Dr,null,h().createElement(Ve.jeF,{style:{margin:"0",minWidth:"100%"},kind:"error",lowContrast:!0,title:a("errorFetchingOrderedFields","Error occured fetching ordered fields for address hierarchy")})):h().createElement(Dr,null,u&&h().createElement(yr,{addressLayout:b}),d?h().createElement(pr,{orderedAddressFields:b}):b.map((function(e,n){return h().createElement(Ut,{key:"combo_input_".concat(n),name:"address.".concat(e.name),labelText:a(e.label),id:e.name,value:t,required:e.required})}))):h().createElement(Dr,null,i.map((function(e,n){return h().createElement(Ut,{key:"combo_input_".concat(n),name:"address.".concat(e.name),labelText:a(e.label),id:e.name,value:t,required:e.required})}))):h().createElement(Dr,null,h().createElement(Ve.rrI,null))},Dr=function(e){var t=e.children,n=(0,qe.useTranslation)().t;return h().createElement("div",null,h().createElement("h4",{className:Rt.productiveHeading02Light},n("addressHeader","Address")),h().createElement("div",{style:{paddingBottom:"5%"}},t))};function kr(){var e={id:"phone",type:"person attribute",uuid:(0,r.useConfig)().fieldConfigurations.phone.personAttributeUuid,showHeading:!1};return h().createElement(Zn,{fieldDefinition:e})}function Or(e){var t=e.name,n=(0,r.useConfig)();if(!s.includes(t)&&!n.fieldDefinitions.some((function(e){return e.id==t})))return(0,r.reportError)("Invalid field name '".concat(t,"'. Valid options are '").concat(n.fieldDefinitions.map((function(e){return e.id})).concat(s).join("', '"),"'.")),null;switch(t){case"name":return h().createElement(zt,null);case"gender":return h().createElement(Yt,null);case"dob":return h().createElement(Gn,null);case"address":return h().createElement(wr,null);case"id":return h().createElement(Tn,null);case"phone":return h().createElement(kr,null);default:return h().createElement(er,{name:t})}}var Sr=function(e){var t=e.sectionDefinition;return h().createElement("section",{"aria-label":"".concat(t.name," Section")},t.fields.map((function(e){return h().createElement(Or,{key:"".concat(t.name,"-").concat(e),name:e})})))};function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t){if(e){if("string"==typeof e)return Br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Br(e,t):void 0}}var Fr=function(e){var t,n,r,i,a=e.name,o=e.options,s=e.label,l=e.required,c=(t=(0,ze.Mt)(a),n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||jr(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],u=(0,qe.useTranslation)().t,d=[h().createElement(Ve.ebT,{disabled:!0,hidden:!0,text:"Select ".concat(s),key:"",value:""})].concat(function(e){return function(e){if(Array.isArray(e))return Br(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o.map((function(e,t){return h().createElement(Ve.ebT,{text:e,value:e,key:t})})))),_=l?s:"".concat(s," (").concat(u("optional","optional"),")");return h().createElement("div",{style:{marginBottom:"1rem"}},h().createElement(Ve.Wdr,null,h().createElement(Ve.l6P,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Tr(e,t,n[t])}))}return e}({id:"identifier"},c),i=null!=(i={labelText:_})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(i)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})),r),d)))},Ir=n(8471),Pr={};Pr.styleTagTransform=lt(),Pr.setAttributes=it(),Pr.insert=nt().bind(null,"head"),Pr.domAPI=et(),Pr.insertStyleElement=ot(),$e()(Ir.A,Pr);const xr=Ir.A&&Ir.A.locals?Ir.A.locals:void 0;var Nr=function(){var e=h().useContext(Ke).values,t=(0,qe.useTranslation)().t;return h().createElement("section",{className:xr.formSection,"aria-label":"Death Info Section"},h().createElement("h5",{className:Ue()("omrs-type-title-5",xr.formSectionTitle)},"Death Info"),h().createElement("section",{className:xr.fieldGroup},h().createElement(Ut,{labelText:t("isDeadInputLabel","Is Dead"),name:"isDead",id:"isDead"}),e.isDead&&h().createElement(h().Fragment,null,h().createElement(Ut,{labelText:t("deathDateInputLabel","Date of Death"),name:"deathDate",id:"deathDate"}),h().createElement(Fr,{options:[t("unknown","Unknown"),t("stroke","Stroke")],label:t("causeOfDeathInputLabel","Cause of Death"),name:"deathCause"}))))};function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ur=function(e){var t,n,r=e.fields,i=(t=(0,ze.Mt)("addNameInLocalLanguage"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1],s=(0,g.useContext)(Ke).setFieldValue;return(0,g.useEffect)((function(){!a.value&&o.touched&&(s("additionalGivenName",""),s("additionalMiddleName",""),s("additionalFamilyName",""))}),[a.value,o.touched]),h().createElement("section",{className:xr.formSection,"aria-label":"Demographics Section"},r.map((function(e){return h().createElement(Or,{key:"demographics-".concat(e),name:e})})))},Mr=n(6467),Lr={};Lr.styleTagTransform=lt(),Lr.setAttributes=it(),Lr.insert=nt().bind(null,"head"),Lr.domAPI=et(),Lr.insertStyleElement=ot(),$e()(Mr.A,Lr);const Rr=Mr.A&&Mr.A.locals?Mr.A.locals:void 0;function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qr=function(e){var t,n,r=e.getDisplayValue,i=e.getFieldValue,a=e.getSearchResults,o=e.onSuggestionSelected,s=e.invalid,l=e.invalidText,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["getDisplayValue","getFieldValue","getSearchResults","onSuggestionSelected","invalid","invalidText"]),u=(t=(0,g.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],_=u[1],p=(0,g.useRef)(null),m=(0,g.useRef)(null),A=c.id,f=c.labelText;(0,g.useEffect)((function(){return document.addEventListener("mousedown",b),function(){document.removeEventListener("mousedown",b)}}),[m]);var b=function(e){m.current&&!m.current.contains(e.target)&&_([])};return h().createElement("div",{className:Rr.autocomplete,ref:m},h().createElement("label",{className:"cds--label"},f),h().createElement(Ve.Wdr,{className:Ue()(Wr({},Rr.invalid,s))},h().createElement(Ve.vji,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wr(e,t,n[t])}))}return e}({id:"autosuggest",onChange:function(e){var t=e.target.value;o(A,void 0),t?a(t).then((function(e){_(e)})):_([])},onClear:function(e){o(A,void 0)},ref:p,className:Rr.autocompleteSearch},c))),d.length>0&&h().createElement("ul",{className:Rr.suggestions},d.map((function(e,t){return h().createElement("li",{key:t,onClick:function(e){return function(e){var t=r(d[e]),n=i(d[e]);p.current.value=t,o(A,n),_([])}(t)}},r(e))}))),s?h().createElement("label",{className:Ue()(Rr.invalidMsg)},l):h().createElement(h().Fragment,null))},zr=n(3355),Hr={};Hr.styleTagTransform=lt(),Hr.setAttributes=it(),Hr.insert=nt().bind(null,"head"),Hr.domAPI=et(),Hr.insertStyleElement=ot(),$e()(zr.A,Hr);const Yr=zr.A&&zr.A.locals?zr.A.locals:void 0;function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $r=function(e){var t,n=e.relationship,r=e.index,i=e.displayRelationshipTypes,a=e.remove,o=(0,qe.useTranslation)().t,s=h().useContext(Ke).setFieldValue,l=Qr((0,g.useState)(!1),2),c=l[0],u=l[1],d=!n.uuid,_=(0,g.useCallback)((function(e){var t=e.target,i=t.name,a=t.options[t.selectedIndex].value;s(i,a),(null==n?void 0:n.action)||s("relationships[".concat(r,"].action"),"UPDATE")}),[r,null==n?void 0:n.action,s]),p=(0,g.useCallback)((function(e,t){u(!t),s(e,t)}),[s]),m=function(){var e,t=(e=function(e){var t;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(n){switch(n.label){case 0:return t=new AbortController,[4,ue(e,t)];case 1:return[2,n.sent()]}}))},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Kr(a,r,i,o,s,"next",e)}function s(e){Kr(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),A=(0,g.useCallback)((function(){"ADD"===n.action?a(r):s("relationships[".concat(r,"].action"),"DELETE")}),[n,r,a,s]),f=(0,g.useCallback)((function(){var e,t;s("relationships[".concat(r,"]"),(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Jr(e,t,n[t])}))}return e}({},n),t=null!=(t={action:void 0,relationshipType:n.initialrelationshipTypeValue})?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e))}),[r,s,n]);return"DELETE"!==n.action?h().createElement("div",{className:Yr.relationship},h().createElement("div",{className:Yr.searchBox},h().createElement("div",{className:Yr.relationshipHeader},h().createElement("h4",{className:Yr.productiveHeading},o("relationshipPlaceholder","Relationship")),h().createElement(Ve.$nd,{kind:"ghost",iconDescription:o("deleteRelationshipTooltipText","Delete"),hasIconOnly:!0,onClick:A},h().createElement(fn.zH,{size:16,className:Yr.trashCan}))),h().createElement("div",null,d?h().createElement(qr,{id:"relationships[".concat(r,"].relatedPersonUuid"),labelText:o("relativeFullNameLabelText","Full name"),placeholder:o("relativeNamePlaceholder","Firstname Familyname"),defaultValue:n.relatedPersonName,onSuggestionSelected:p,invalid:c,invalidText:o("relationshipPersonMustExist","Related person must be an existing person"),getSearchResults:m,getDisplayValue:function(e){return e.display},getFieldValue:function(e){return e.uuid}}):h().createElement(h().Fragment,null,h().createElement("span",{className:Yr.labelText},o("relativeFullNameLabelText","Full name")),h().createElement("p",{className:Yr.bodyShort02},n.relatedPersonName)))),h().createElement("div",{className:Yr.selectRelationshipType,style:{marginBottom:"1rem"}},h().createElement(Ve.Wdr,null,h().createElement(Ve.l6P,{id:"select",labelText:o("relationship","Relationship"),onChange:_,name:"relationships[".concat(r,"].relationshipType"),defaultValue:null!==(t=null==n?void 0:n.relationshipType)&&void 0!==t?t:"placeholder-item"},h().createElement(Ve.ebT,{disabled:!0,hidden:!0,value:"placeholder-item",text:o("relationshipToPatient","Relationship to patient")}),i.map((function(e,t){return h().createElement(Ve.ebT,{text:e.display,value:"".concat(e.uuid,"/").concat(e.direction),key:"relationship-".concat(e.uuid,"-").concat(t)})})))))):h().createElement(Ve.jeF,{kind:"info",title:o("relationshipRemovedText","Relationship removed"),actions:h().createElement(Ve.Avu,{onClick:f},o("restoreRelationshipActionButton","Undo"))})},Zr=function(){var e=(0,g.useContext)(F).relationshipTypes,t=Qr((0,g.useState)([]),2),n=t[0],r=t[1],i=(0,qe.useTranslation)().t;return(0,g.useEffect)((function(){if(e){var t=[];e.results.forEach((function(e){var n={display:e.displayAIsToB?e.displayAIsToB:e.displayBIsToA,uuid:e.uuid,direction:"aIsToB"},r={display:e.displayBIsToA?e.displayBIsToA:e.displayAIsToB,uuid:e.uuid,direction:"bIsToA"};n.display===r.display?t.push(n):t.push(n,r)})),r(t)}}),[e]),e?h().createElement("section",{"aria-label":"Relationships section"},h().createElement(ze.ED,{name:"relationships"},(function(e){var t=e.push,r=e.remove,a=e.form.values.relationships;return h().createElement("div",null,a&&a.length>0?a.map((function(e,t){return h().createElement("div",{key:t,className:xr.formSection},h().createElement($r,{relationship:e,index:t,displayRelationshipTypes:n,key:t,remove:r}))})):null,h().createElement("div",{className:Yr.actions},h().createElement(Ve.$nd,{kind:"ghost",onClick:function(){return t({relatedPersonUuid:"",action:"ADD"})}},i("addRelationshipButtonText","Add Relationship"))))}))):h().createElement("section",{"aria-label":"Loading relationships section"},h().createElement(Ve.rrI,{role:"progressbar"}))};function ei(e){var t=e.sectionDefinition;switch(t.id){case"demographics":return h().createElement(Ur,{fields:t.fields});case"death":return h().createElement(Nr,null);case"relationships":return h().createElement(Zr,null);default:return h().createElement(Sr,{sectionDefinition:t})}}var ti=function(e){var t=e.sectionDefinition,n=e.index,r=(0,qe.useTranslation)().t;return h().createElement("div",{id:t.id,style:{scrollMarginTop:"4rem"}},h().createElement("h3",{className:xt.productiveHeading02,style:{color:"#161616"}},n+1,". ",r("".concat(t.id,"Section"),t.name)),h().createElement("span",{className:xt.label01},r("allFieldsRequiredText","All fields are required unless marked optional")),h().createElement("div",{style:{margin:"1rem 0 1rem"}},h().createElement(Ve.FAs,null,h().createElement(ei,{sectionDefinition:t}))))};function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ri=function(e){var t,n,i=e.when,a=e.redirect,o=(0,qe.useTranslation)().t,s=(0,g.useRef)(!1),l=(t=(0,g.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ni(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],d=c||a,_=(0,g.useCallback)((function(e){var t=o("discardModalBody","The changes you made to this patient's details have not been saved. Discard changes?");return e.preventDefault(),e.returnValue=t,t}),[o]),p=(0,g.useCallback)((function(e){if(!e.detail.navigationIsCanceled&&!s.current){s.current=!0,e.detail.cancelNavigation();var t=(0,r.showModal)("cancel-patient-edit-modal",{onConfirm:function(){u(e.detail.newUrl),t()}},(function(){s.current=!1}))}}),[]);return(0,g.useEffect)((function(){if(i&&void 0===d)return window.addEventListener("single-spa:before-routing-event",p),window.addEventListener("beforeunload",_),function(){window.removeEventListener("beforeunload",_),window.removeEventListener("single-spa:before-routing-event",p)}}),[d,i,_,p]),(0,g.useEffect)((function(){var e,t;"string"==typeof d&&(0,r.navigate)({to:"${openmrsSpaBase}/".concat((e=d,null===(t=e.split(window.getOpenmrsSpaBase()))||void 0===t?void 0:t[1]))})}),[d]),null};var ii=n(5495),ai={};ai.styleTagTransform=lt(),ai.setAttributes=it(),ai.insert=nt().bind(null,"head"),ai.domAPI=et(),ai.insertStyleElement=ot(),$e()(ii.A,ai);const oi=ii.A&&ii.A.locals?ii.A.locals:void 0;var si=[{text:"Kenya",id:"KE"},{text:"Uganda",id:"UG"},{text:"Tanzania",id:"TZ"}],li=[{text:"National ID number",id:"58a47054-1359-11df-a1f1-0026b9348838"},{text:"Passport number",id:"ced014a1-068a-4a13-b6b3-17412f754af2"},{text:"Birth Certificate Entry Number",id:"7924e13b-131a-4da8-8efa-e294184a1b0d"}];function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ui(e,t,n[t])}))}return e}function _i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var pi=function(e,t){var n,i,a=(n=(0,g.useState)({country:"KE",identifierType:"",patientIdentifier:"",isSubmitting:!1}),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(n,i)||function(e,t){if(e){if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ci(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],s=a[1];return{handleClientRegistryDataSubmit:function(){var n,i,a,l;s(_i(di({},o),{isSubmitting:!0})),(n=o.patientIdentifier,i=o.identifierType,a=o.country,l="\n  https://ngx.ampath.or.ke/registry/api/uno?uno=".concat(n,"&idType=").concat(i,"&countryCode=").concat(a),fetch(l).then((function(e){return e.json()})).then((function(e){return e}))).then((function(n){if(s(_i(di({},o),{isSubmitting:!1})),n.clientExists)var i=n.client,a=(0,r.showModal)("client-registry-modal",{clientData:i,closeModal:function(){a(),function(e,t,n){t(_i(di({},n),{familyName:e.lastName,givenName:e.firstName,middleName:e.middleName,gender:e.gender,birthdate:e.dateOfBirth,address:{address2:e.subCounty}}))}(i,e,t)}});else n.client}))},handleOnChange:function(e,t){s(_i(di({},o),ui({},t,e)))},clientRegistryData:o}},mi=function(e){var t=e.setInitialFormValues,n=e.initialFormValues,r=(0,qe.useTranslation)().t,i=pi(t,n),a=i.handleClientRegistryDataSubmit,o=i.handleOnChange,s=i.clientRegistryData;return h().createElement("div",{className:oi.patientVerification},h().createElement("h3",{className:oi.productiveHeading02,style:{color:"#161616"}},r("patientVerification","Patient Verification")),h().createElement(Ve.msM,{id:"default",titleText:"Country",label:"Select country",items:si,onChange:function(e){var t=e.selectedItem;return o(null==t?void 0:t.id,"country")},initialSelectedItem:si[0],itemToString:function(e){return e?e.text:""}}),h().createElement(Ve.msM,{id:"default",titleText:"Verification ID Type",label:"Select verification ID Type",items:li,onChange:function(e){var t=e.selectedItem;return o(null==t?void 0:t.id,"identifierType")},itemToString:function(e){return e?e.text:""}}),h().createElement(Ve.ksK,{disabled:""===s.identifierType,onChange:function(e){return o(e.target.value,"patientIdentifier")},id:"patientIdentifier",type:"text",labelText:"Patient identifier",placeholder:"Enter patient identifier"}),s.isSubmitting?h().createElement(Ve.OuH,{description:"".concat(r("searchRegistry","Searching Central Registry")," ..."),iconDescription:"searching registry ...",status:"active"}):h().createElement(Ve.$nd,{disabled:s.isSubmitting||""===s.patientIdentifier,onClick:function(){return a()}},r("searchRegistry","Search Registry")))};function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fi(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ai(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bi=function(e){var t,n,i=e.savePatientForm,a=e.isOffline,s=(0,g.useContext)(F),l=s.currentSession,c=(s.addressTemplate,s.identifierTypes),u=(0,Re.useLocation)().search,d=(0,r.useConfig)(),_=hi((0,g.useState)(),2),m=_[0],A=_[1],f=(0,Re.useParams)().patientUuid,b=(0,r.usePatient)(f),v=b.isLoading,C=b.patient,E=(0,qe.useTranslation)().t,w=hi((0,g.useState)(null),2),D=w[0],k=w[1],O=hi(function(e){var t=(0,r.usePatient)(e),n=t.isLoading,i=t.patient,a=Ft(e),o=a.data,s=a.isLoading,l=function(e){var t=!!e,n=(0,$.Ay)(t?"/ws/rest/v1/patient/".concat(e,"/identifier?v=custom:(uuid,identifier,identifierType:(uuid,required,name),preferred)"):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading,s=(0,g.useMemo)((function(){var e,t,n={};return null==i||null===(t=i.data)||void 0===t||null===(e=t.results)||void 0===e||e.forEach((function(e){n[(0,y.A)(e.identifierType.name)]={identifierUuid:e.uuid,preferred:e.preferred,initialValue:e.identifier,identifierValue:e.identifier,identifierTypeUuid:e.identifierType.uuid,identifierName:e.identifierType.name,required:e.identifierType.required,selectedSource:null,autoGeneration:!1}})),{data:n,isLoading:o}}),[i,a]);return s}(e),c=l.data,u=l.isLoading,d=function(e){var t=!!e,n=(0,$.Ay)(t?"/ws/rest/v1/relationship?v=".concat(p,"&person=").concat(e):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading;return(0,g.useMemo)((function(){var t;return{data:null==i||null===(t=i.data)||void 0===t?void 0:t.results.map((function(t){return t.personA.uuid===e?{relatedPersonName:t.personB.display,relatedPersonUuid:t.personB.uuid,relation:t.relationshipType.bIsToA,relationshipType:"".concat(t.relationshipType.uuid,"/bIsToA"),initialrelationshipTypeValue:"".concat(t.relationshipType.uuid,"/bIsToA"),uuid:t.uuid}:{relatedPersonName:t.personA.display,relatedPersonUuid:t.personA.uuid,relation:t.relationshipType.aIsToB,relationshipType:"".concat(t.relationshipType.uuid,"/aIsToB"),initialrelationshipTypeValue:"".concat(t.relationshipType.uuid,"/aIsToB"),uuid:t.uuid}})),error:a,isLoading:o}}),[e,i,a])}(e),_=d.data,m=d.isLoading,A=function(e,t){var n,i,a=(0,r.useConfig)().registrationObs,o=(0,$.Ay)(t&&a.encounterTypeUuid?"/ws/rest/v1/encounter?patient=".concat(e,"&v=custom:(encounterDatetime,obs:(concept:ref,value:ref))&encounterType=").concat(a.encounterTypeUuid):null,r.openmrsFetch),s=o.data,l=o.error,c=o.isLoading,u=null==s||null===(i=s.data.results.sort(bt))||void 0===i||null===(n=i.at(0))||void 0===n?void 0:n.obs,d=null==u?void 0:u.map((function(e){var t=e.concept,n=e.value;return Dt({},t.uuid,"object"==typeof n?null==n?void 0:n.uuid:n)})).reduce((function(e,t){return Object.assign(e,t)}),{});return{data:d,isLoading:c,error:l}}(e,i),f=A.data,h=St((0,g.useState)({patientUuid:(0,Je.A)(),givenName:"",middleName:"",familyName:"",additionalGivenName:"",additionalMiddleName:"",additionalFamilyName:"",addNameInLocalLanguage:!1,gender:"",birthdate:null,yearsEstimated:0,monthsEstimated:0,birthdateEstimated:!1,telephoneNumber:"",isDead:!1,deathDate:"",deathCause:"",relationships:[],identifiers:{},address:{}}),2),b=h[0],v=h[1];return(0,g.useEffect)((function(){wt((function(){var t,a,o,s,l,c;return Bt(this,(function(u){switch(u.label){case 0:return i?(t=!/^\d{4}-\d{2}-\d{2}$/.test(i.birthDate),(a=St(i.birthDate.split("-").map((function(e){return parseInt(e)})),2))[0],a[1],o=i.birthDate.split("-").length>1,s=t?Math.floor(vt()().diff(i.birthDate,"month")/12):0,l=t&&o?vt()().diff(i.birthDate,"month")%12:0,v(Ot(kt(Ot(kt({},b,(_={},p=(d=i).name[0],m=d.name[1],_.patientUuid=d.id,_.givenName=null==p?void 0:p.given[0],_.middleName=null==p?void 0:p.given[1],_.familyName=null==p?void 0:p.family,_.addNameInLocalLanguage=!!m||void 0,_.additionalGivenName=null==m?void 0:m.given[0],_.additionalMiddleName=null==m?void 0:m.given[1],_.additionalFamilyName=null==m?void 0:m.family,_.gender=d.gender,_.birthdate=d.birthDate?(0,r.parseDate)(d.birthDate):void 0,_.telephoneNumber=d.telecom?d.telecom[0].value:"",(d.deceasedBoolean||d.deceasedDateTime)&&(_.isDead=!0,_.deathDate=d.deceasedDateTime?d.deceasedDateTime.split("T")[0]:""),ft({},_,d.identifier.map((function(e){return At({},(0,y.A)(e.system||e.type.text),e.value)}))))),{address:ht(i)}),function(e){var t={};return e.telecom&&(t.phone=e.telecom[0].value),t}(i)),{birthdateEstimated:!/^\d{4}-\d{2}-\d{2}$/.test(i.birthDate),yearsEstimated:s,monthsEstimated:l})),[3,3]):[3,1];case 1:return n||!e?[3,3]:[4,Tt(e)];case 2:if(!(c=u.sent())._patientRegistrationData.formValues)return console.error("Found a queued offline patient registration for patient ".concat(e,", but without form values. Not using these values.")),[2];v(c._patientRegistrationData.formValues),u.label=3;case 3:return[2]}var d,_,p,m}))}))()}),[n,i,e]),(0,g.useEffect)((function(){!m&&_&&v((function(e){return Ot(kt({},e),{relationships:_})}))}),[m,_,v]),(0,g.useEffect)((function(){!u&&c&&v((function(e){return Ot(kt({},e),{identifiers:c})}))}),[u,c,v]),(0,g.useEffect)((function(){if(!s&&o){var e={};o.forEach((function(t){var n;e[t.attributeType.uuid]="org.openmrs.Concept"===t.attributeType.format&&"object"==typeof t.value?null===(n=t.value)||void 0===n?void 0:n.uuid:t.value})),v((function(t){return Ot(kt({},t),{attributes:e})}))}}),[o,v,s]),(0,g.useEffect)((function(){i&&f&&v((function(e){return Ot(kt({},e),{obs:f})}))}),[f,i]),[b,v]}(f),2),S=O[0],B=O[1],T=hi(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.usePatient)(e),i=n.isLoading,a=n.patient,o=St((0,g.useState)(t),2),s=o[0],l=o[1];return(0,g.useEffect)((function(){wt((function(){var n,r;return Bt(this,(function(o){switch(o.label){case 0:return a?(l(Ot(kt({},s),{address:ht(a)})),[3,3]):[3,1];case 1:return i||!e?[3,3]:[4,Tt(e)];case 2:n=o.sent(),l(null!==(r=null==n?void 0:n._patientRegistrationData.initialAddressFieldValues)&&void 0!==r?r:t),o.label=3;case 3:return[2]}}))}))()}),[i,a,e]),[s,l]}(f),1),j=T[0],I=hi(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.usePatient)(e),i=n.isLoading,a=n.patient,o=Ft(e).data,s=St((0,g.useState)(t),2),l=s[0],c=s[1];return(0,g.useEffect)((function(){var n,r,o,s,u;a?c(kt({},l,(o=(n=a).name[0],s=n.name[1],u=null===(r=n.address)||void 0===r?void 0:r[0],ft({preferredNameUuid:null==o?void 0:o.id,additionalNameUuid:null==s?void 0:s.id,preferredAddressUuid:null==u?void 0:u.id},n.identifier.map((function(e){return At({},(0,y.A)(e.system||e.type.text),{uuid:e.id,value:e.value})})))))):!i&&e&&Tt(e).then((function(e){var n;return c(null!==(n=null==e?void 0:e._patientRegistrationData.initialAddressFieldValues)&&void 0!==n?n:t)}))}),[i,a,e]),(0,g.useEffect)((function(){o&&c((function(e){return kt({},e,function(e){var t={};return e.forEach((function(e){var n;t["attribute.".concat(null==e||null===(n=e.attributeType)||void 0===n?void 0:n.uuid)]=null==e?void 0:e.uuid})),t}(o))}))}),[o]),[l,c]}(f),1)[0],P=null==l||null===(t=l.sessionLocation)||void 0===t?void 0:t.uuid,x=v?void 0:!(!f||!C),N=(0,g.useMemo)((function(){return"true"===localStorage.getItem("openmrs:devtools")&&!x}),[x]),G=ce(null==C?void 0:C.id).data,U=(0,g.useRef)(new Be),M=(null==d||null===(n=d.fieldDefinitions)||void 0===n||n.filter((function(e){return"address"===e.type})),function(e){return He.Ik({givenName:He.Yj().required("givenNameRequired"),familyName:He.Yj().required("familyNameRequired"),additionalGivenName:He.Yj().when("addNameInLocalLanguage",{is:!0,then:He.Yj().required("givenNameRequired"),otherwise:He.Yj().notRequired()}),additionalFamilyName:He.Yj().when("addNameInLocalLanguage",{is:!0,then:He.Yj().required("familyNameRequired"),otherwise:He.Yj().notRequired()}),gender:He.Yj().oneOf(e.fieldConfigurations.gender.map((function(e){return e.value})),"genderUnspecified").required("genderRequired"),birthdate:He.p6().when("birthdateEstimated",{is:!1,then:He.p6().required("birthdayRequired").max(Date(),"birthdayNotInTheFuture").nullable(),otherwise:He.p6().nullable()}),yearsEstimated:He.ai().when("birthdateEstimated",{is:!0,then:He.ai().required("yearsEstimateRequired").min(0,"negativeYears"),otherwise:He.ai().nullable()}),monthsEstimated:He.ai().min(0,"negativeMonths"),deathDate:He.p6().max(Date(),"deathdayNotInTheFuture").nullable(),email:He.Yj().optional().email("invalidEmail"),identifiers:He.RZ((function(e){return He.Ik(Xe()(e,(function(){return He.Ik({required:He.lc(),identifierValue:He.Yj().when("required",{is:!0,then:He.Yj().required("identifierValueRequired"),otherwise:He.Yj().notRequired()})})})))})),relationships:He.YO().of(He.Ik().shape({relatedPersonUuid:He.Yj().required(),relationshipType:He.Yj().required()}))})}(d));(0,g.useEffect)((function(){}),[S]);var L=(0,g.useMemo)((function(){return d.sections.map((function(e){var t;return null!==(t=d.sectionDefinitions.filter((function(t){return t.id==e}))[0])&&void 0!==t?t:o.filter((function(t){return t.id==e}))[0]})).filter((function(e){return e}))}),[d.sections,d.sectionDefinitions]),R=function(){var e,t=(e=function(e,t){var n,a,o,s,c,_,p,m,f;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(g){switch(g.label){case 0:n=new AbortController,t.setSubmitting(!0),a=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gi(e,t,n[t])}))}return e}({},e),{identifiers:(h=e.identifiers,Object.fromEntries(Object.entries(h).filter((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r[0],void 0!==r[1].identifierValue}))))}),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,i(!x,a,I,j,D,P,S.identifiers,l,d,U.current,n)];case 2:return g.sent(),(0,r.showSnackbar)({subtitle:x?E("updatePatientSuccessSnackbarSubtitle","The patient's information has been successfully updated"):E("registerPatientSuccessSnackbarSubtitle","The patient can now be found by searching for them using their name or ID number"),title:x?E("updatePatientSuccessSnackbarTitle","Patient Details Updated"):E("registerPatientSuccessSnackbarTitle","New Patient Created"),kind:"success",isLowContrast:!0}),o=new URLSearchParams(u).get("afterUrl"),s=(0,r.interpolateUrl)(o||d.links.submitButton,{patientUuid:e.patientUuid}),A(s),[3,4];case 3:return c=g.sent(),(null===(p=c.responseBody)||void 0===p||null===(_=p.error)||void 0===_?void 0:_.globalErrors)?c.responseBody.error.globalErrors.forEach((function(e){(0,r.showSnackbar)({title:x?E("updatePatientErrorSnackbarTitle","Patient Details Update Failed"):E("registrationErrorSnackbarTitle","Patient Registration Failed"),subtitle:e.message,kind:"error"})})):(null===(f=c.responseBody)||void 0===f||null===(m=f.error)||void 0===m?void 0:m.message)?(0,r.showSnackbar)({title:x?E("updatePatientErrorSnackbarTitle","Patient Details Update Failed"):E("registrationErrorSnackbarTitle","Patient Registration Failed"),subtitle:c.responseBody.error.message,kind:"error"}):(0,r.createErrorHandler)()(c),t.setSubmitting(!1),[3,4];case 4:return[2]}var h}))},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){fi(a,r,i,o,s,"next",e)}function s(e){fi(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return h().createElement(ze.l1,{enableReinitialize:!0,initialValues:S,validationSchema:M,onSubmit:R},(function(e){return h().createElement(ze.lV,{className:xt.form},h().createElement(ri,{when:e.dirty,redirect:m}),h().createElement("div",{className:xt.formContainer},h().createElement("div",null,h().createElement("div",{className:xt.stickyColumn},h().createElement("h4",null,x?E("edit","Edit"):E("createNew","Create New")," ",E("patient","Patient")),N&&h().createElement(pt,{setValues:e.setValues}),h().createElement("p",{className:xt.label01},E("jumpTo","Jump to")),L.map((function(e){return h().createElement("div",{className:Ue()(xt.space05,xt.touchTarget),key:e.name},h().createElement(Ve.N_E,{className:xt.linkName,onClick:function(){return t=e.id,void document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"});var t}},h().createElement(We.WX,{size:16})," ",E("".concat(e.id,"Section"),e.name)))})),h().createElement(Ve.$nd,{className:xt.submitButton,type:"submit",onClick:function(){return e.validateForm().then((function(e){return function(e){e&&"object"==typeof e&&Object.keys(e).length&&Object.keys(e).forEach((function(e){(0,r.showSnackbar)({subtitle:E("".concat(e,"LabelText"),e),title:E("incompleteForm","The following field has errors:"),kind:"warning",isLowContrast:!0,timeoutInMs:5e3})}))}(e)}))},disabled:!l||!c||e.isSubmitting},e.isSubmitting?h().createElement(Ve.OuH,{className:xt.spinner,description:"".concat(E("submitting","Submitting")," ..."),iconDescription:"submitting",status:"active"}):x?E("updatePatient","Update Patient"):E("registerPatient","Register Patient")),h().createElement(Ve.$nd,{className:xt.cancelButton,kind:"tertiary",onClick:gt},E("cancel","Cancel")))),h().createElement("div",{className:xt.infoGrid},h().createElement(Ke.Provider,{value:{identifierTypes:c,validationSchema:M,values:e.values,inEditMode:x,setFieldValue:e.setFieldValue,setCapturePhotoProps:k,currentPhoto:null==G?void 0:G.imageSrc,isOffline:a,initialFormValues:e.initialValues,setInitialFormValues:B}},h().createElement(mi,{initialFormValues:S,setInitialFormValues:B}),L.map((function(e,t){return h().createElement(ti,{key:"registration-section-".concat(e.id),sectionDefinition:e,index:t})}))))))}))},yi=n(2138),vi={};vi.styleTagTransform=lt(),vi.setAttributes=it(),vi.insert=nt().bind(null,"head"),vi.domAPI=et(),vi.insertStyleElement=ot(),$e()(yi.A,vi);const Ci=yi.A&&yi.A.locals?yi.A.locals:void 0;function Ei(){var e=(0,r.useConnectivity)(),t=(0,r.useSession)(),n=Le()("patientRegistrationAddressTemplate",x).data,i=Le()("patientRegistrationRelationshipTypes",G).data,a=Le()("patientRegistrationPatientIdentifiers",V).data,o=(0,g.useMemo)((function(){return e?Se.savePatientFormOnline:Se.savePatientFormOffline}),[e]);return h().createElement("main",{className:Ue()("omrs-main-content",Ci.root)},h().createElement(Ve.xA9,{className:Ci.grid},h().createElement(Ve.fI1,null,h().createElement(r.ExtensionSlot,{name:"breadcrumbs-slot"})),h().createElement(F.Provider,{value:{addressTemplate:n,relationshipTypes:i,identifierTypes:a,currentSession:t}},h().createElement(Re.BrowserRouter,{basename:window.getOpenmrsSpaBase()},h().createElement(Re.Routes,null,h().createElement(Re.Route,{path:"patient-registration",element:h().createElement(bi,{savePatientForm:o,isOffline:!e})}),h().createElement(Re.Route,{path:"patient/:patientUuid/edit",element:h().createElement(bi,{savePatientForm:o,isOffline:!e})}))))))}var wi=n(9776),Di={};Di.styleTagTransform=lt(),Di.setAttributes=it(),Di.insert=nt().bind(null,"head"),Di.domAPI=et(),Di.insertStyleElement=ot(),$e()(wi.A,Di);const ki=wi.A&&wi.A.locals?wi.A.locals:void 0;var Oi=n(8172),Si=n(5570),Bi=n.n(Si);var Ti=n(1809),ji={};ji.styleTagTransform=lt(),ji.setAttributes=it(),ji.insert=nt().bind(null,"head"),ji.domAPI=et(),ji.insertStyleElement=ot(),$e()(Ti.A,ji);const Fi=Ti.A&&Ti.A.locals?Ti.A.locals:void 0;var Ii=function(e){var t=e.label,n=e.value;return h().createElement("div",{className:Fi.cardContainer},h().createElement("span",null,t),h().createElement("span",null,n))},Pi=n(4767),xi={featureName:"Patient Registration",moduleName:m};function Ni(){(0,r.defineConfigSchema)(m,l),(0,r.registerBreadcrumbs)([{path:"".concat(window.spaBase,"/").concat(A),title:function(){return Promise.resolve(window.i18next.t("patientRegistrationBreadcrumb",{defaultValue:"Patient Registration",ns:m}))},parent:"".concat(window.spaBase,"/home")},{path:"".concat(window.spaBase,"/patient/:patientUuid/edit"),title:function(){return Promise.resolve(window.i18next.t("editPatientDetailsBreadcrumb",{defaultValue:"Edit patient details",ns:m}))},parent:"".concat(window.spaBase,"/patient/:patientUuid/chart")}]),(0,r.setupOfflineSync)(A,[],xe,{onBeginEditSyncItem:function(e){(0,r.navigate)({to:"${openmrsSpaBase}/patient/".concat(e.content.fhirPatient.id,"/edit")})}}),function(){Pe.apply(this,arguments)}(),(0,r.setupDynamicOfflineDataHandler)({id:"esm-patient-registration-app:patient",type:"patient",displayName:"Patient registration",isSynced:function(e){return je((function(){var t,n;return Fe(this,(function(r){switch(r.label){case 0:return t=Ie(e),[4,caches.open("omrs-spa-cache-v1")];case 1:return[4,r.sent().keys()];case 2:return n=r.sent().map((function(e){return e.url})),[2,t.every((function(e){return n.includes(e)}))]}}))}))()},sync:function(e){return je((function(){var t;return Fe(this,(function(n){switch(n.label){case 0:return t=Ie(e),[4,Promise.allSettled(t.map(function(){var e=je((function(e){return Fe(this,(function(t){switch(t.label){case 0:return[4,(0,r.messageOmrsServiceWorker)({type:"registerDynamicRoute",url:e})];case 1:return t.sent(),[4,fetch(e)];case 2:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return n.sent(),[2]}}))}))()}})}var Gi=(0,r.getSyncLifecycle)(Ei,xi),Ui=(0,r.getSyncLifecycle)(Ei,{featureName:"edit-patient-details-form",moduleName:m}),Mi=(0,r.getSyncLifecycle)((function(){var e=h().useCallback((function(){return(0,r.navigate)({to:"${openmrsSpaBase}/patient-registration"})}),[]);return h().createElement(Ve.V8d,{"aria-label":"Add Patient","aria-labelledby":"Add Patient",enterDelayMs:500,name:"AddPatientIcon",onClick:e,className:ki.slotStyles},h().createElement(fn.rs,{size:20}))}),xi),Li=(0,r.getAsyncLifecycle)((function(){return n.e(236).then(n.bind(n,4236))}),xi),Ri=(0,r.getSyncLifecycle)((function(e){var t=e.patientUuid,n=e.patientName,r=e.size,i=ce(t).data,a=Bi().generate(t).toDataUri();return h().createElement(Oi.Ay,{alt:"".concat(n?"".concat(n,"'s avatar"):"Patient avatar"),color:"rgba(0,0,0,0)",name:n,src:null==i?void 0:i.imageSrc,size:"small"===r?"48":"80",textSizeRatio:"small"===r?1:2,style:{backgroundImage:"url(".concat(a,")"),backgroundRepeat:"round"}})}),xi),Vi=(0,r.getSyncLifecycle)((function(e){var t=e.patientUuid,n=e.onTransition,i=(0,qe.useTranslation)().t,a=h().useCallback((function(){(0,r.navigate)({to:"${openmrsSpaBase}/patient/".concat(t,"/edit")}),n&&n()}),[n,t]);return h().createElement("li",{className:"cds--overflow-menu-options__option"},h().createElement("button",{className:"cds--overflow-menu-options__btn",role:"menuitem",title:i("editPatientDetails","Edit patient details"),"data-floating-menu-primary-focus":!0,onClick:a},h().createElement("span",{className:"cds--overflow-menu-options__option-content"},i("editPatientDetails","Edit patient details"))))}),{featureName:"edit-patient-details",moduleName:m}),Wi=(0,r.getAsyncLifecycle)((function(){return n.e(56).then(n.bind(n,56))}),xi),qi=(0,r.getSyncLifecycle)((function(e){var t=e.clientData,n=e.closeModal,r=(0,qe.useTranslation)().t;return h().createElement("div",null,h().createElement(Ve.rQ0,{closeModal:n,title:r("clientRegistry","Client registry")}),h().createElement(Ve.cwr,null,h().createElement("p",null,r("clientRegistry","Client registry")),h().createElement(Ii,{label:"Name",value:"".concat(t.firstName," ").concat(t.middleName," ").concat(t.lastName)}),h().createElement(Ii,{label:"Identification Type",value:t.identifications.map((function(e){return e.identificationType})).join(" ")}),h().createElement(Ii,{label:"Identication Number",value:t.identifications.map((function(e){return e.identificationNumber})).join(" ")}),h().createElement(Ii,{label:"Date of Birth",value:t.dateOfBirth}),h().createElement(Ii,{label:r("gender","Gender"),value:t.gender})),h().createElement(Ve.jlY,null,h().createElement(Ve.$nd,{kind:"secondary",onClick:function(){}},r("contactSupport","Contact supportt")),h().createElement(Ve.$nd,{kind:"danger",onClick:n},r("continue","Continue"))))}),xi)},4767:(e,t,n)=>{var r={"./am.json":[1197,197],"./ar.json":[4132,132],"./en.json":[4300,300],"./es.json":[3099,99],"./fr.json":[4055,55],"./he.json":[4652,652],"./km.json":[4335,335],"./zh.json":[5661,661],"./zh_CN.json":[9879,879]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=4767,e.exports=i}}]);